<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content=" Sun-Panel-js源码 插件集地址：https://github.com/hslr-s/sun-panel-js-plugins\nSun-Panel：https://doc.sun-panel.top/zh_cn\n一 、显示概览快速跳转&ndash;服务器主机shell输入以下命令 1 、创建js文件 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 289 290 291 292 293 294 295 296 297 298 299 300 301 302 303 304 305 306 307 308 309 310 311 312 313 314 315 316 317 318 319 320 321 322 323 324 325 326 327 328 329 touch /mnt/mydisk/home/sun-panel/config/custom/index.js &amp;&amp; cat &gt; /mnt/mydisk/home/sun-panel/config/custom/index.js &lt;&lt;&#39;EOF&#39; (function () { // =========== Config Start =========== // ------------------------------------ // 距离滚动偏移量 const scrollOffset = 80 // 显示风格( auto:自动(默认) | mobile:左上角显示触发按钮-移动端风格 | sidebar:常态显示侧栏) const displayStyle = &#39;auto&#39; // 移动端宽度定义 const mobileWidth = 800 const SunPanelTOCDomIdName = &#39;sun-panel-toc-dom&#39; // 左上角按钮 SVG 图标 const svgTocMobileBtn = &#39;&lt;svg xmlns=&#34;http://www.w3.org/2000/svg&#34; viewBox=&#34;0 0 24 24&#34;&gt;&lt;path fill=&#34;currentColor&#34; d=&#34;M17.5 4.5c-1.95 0-4.05.4-5.5 1.5c-1.45-1.1-3.55-1.5-5.5-1.5c-1.45 0-2.99.22-4.28.79C1.49 5.62 1 6.33 1 7.14v11.28c0 1.3 1.22 2.26 2.48 1.94c.98-.25 2.02-.36 3.02-.36c1.56 0 3.22.26 4.56.92c.6.3 1.28.3 1.87 0c1.34-.67 3-.92 4.56-.92c1 0 2.04.11 3.02.36c1.26.33 2.48-.63 2.48-1.94V7.14c0-.81-.49-1.52-1.22-1.85c-1.28-.57-2.82-.79-4.27-.79M21 17.23c0 .63-.58 1.09-1.2.98c-.75-.14-1.53-.2-2.3-.2c-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5c.92 0 1.83.09 2.7.28c.46.1.8.51.8.98z&#34;/&gt;&lt;path fill=&#34;currentColor&#34; d=&#34;M13.98 11.01c-.32 0-.61-.2-.71-.52c-.13-.39.09-.82.48-.94c1.54-.5 3.53-.66 5.36-.45c.41.05.71.42.66.83s-.42.71-.83.66c-1.62-.19-3.39-.04-4.73.39c-.08.01-.16.03-.23.03m0 2.66c-.32 0-.61-.2-.71-.52c-.13-.39.09-.82.48-.94c1.53-.5 3.53-.66 5.36-.45c.41.05.71.42.66.83s-.42.71-.83.66c-1.62-.19-3.39-.04-4.73.39a1 1 0 0 1-.23.03m0 2.66c-.32 0-.61-.2-.71-.52c-.13-.39.09-.82.48-.94c1.53-.5 3.53-.66 5.36-.45c.41.05.71.42.66.83s-.42.7-.83.66c-1.62-.19-3.39-.04-4.73.39a1 1 0 0 1-.23.03&#34;/&gt;&lt;/svg&gt;&#39; // ------------------------------------ // =========== Config End =========== // 滚动容器的类名 const scrollContainerElementClassName = &#39;.scroll-container&#39; // 一些函数 const isMobile = () =&gt; { if (displayStyle === &#39;mobile&#39;) { return true } else if (displayStyle === &#39;pc&#39;) { return false } const width = window.innerWidth return width &lt; mobileWidth } function createDom() { // 检测是否已经存在TOC DOM，存在则删除 (function () { const element = document.getElementById(SunPanelTOCDomIdName) if (element) { element.remove() } })() const SunPanelTOCDom = document.createElement(&#39;div&#39;) SunPanelTOCDom.id = SunPanelTOCDomIdName document.body.appendChild(SunPanelTOCDom) // ========= Add style start ========= const style = document.createElement(&#39;style&#39;) const SunPanelTOCDomStyleId = `#${SunPanelTOCDomIdName}` style.textContent = ` ${SunPanelTOCDomStyleId} #toc-mobile-btn { top: 20px !important; left: 20px !important; position: fixed; width: 46px; height: 46px; background-color: #2a2a2a6b; color: white; border-radius: 0.5rem; display: flex; justify-content: center; align-items: center; cursor: pointer; } ${SunPanelTOCDomStyleId} .hidden { display: none !important; } ${SunPanelTOCDomStyleId} #toc-sidebar { width: 40px; padding: 10px; position: fixed; top: 0; left: 0; height: 100%; overflow: hidden; display: flex; flex-direction: column; justify-content: center; transition: width 0.3s ease, background-color 0.3s ease; border-top-right-radius: 20px; border-bottom-right-radius: 20px; background-color: none; } ${SunPanelTOCDomStyleId} .toc-mobile-btn-svg-container{ width:21px; height:21px; } ${SunPanelTOCDomStyleId} .toc-sidebar-expansion { width: 200px !important; display: flex; background-color: rgb(42 42 42 / 90%); box-shadow: 2px 0 5px rgba(0, 0, 0, 0.2); } ${SunPanelTOCDomStyleId} #toc-sidebar .toc-sidebar-box { width: 500px; } ${SunPanelTOCDomStyleId} .title-bar-box { display: flex; align-items: center; position: relative; cursor: pointer; } ${SunPanelTOCDomStyleId} .title-bar-slip { width: 20px; height: 6px; background-color: white; border-radius: 4px; margin: 15px 0; transition: height 0.3s ease, width 0.3s ease; box-shadow: 2px 0 5px rgba(0, 0, 0, 0.5); } ${SunPanelTOCDomStyleId} .title-bar-title { opacity: 0; white-space: nowrap; transition: opacity 0.3s ease, transform 0.3s ease, margin-left 0.3s ease; font-size: 14px; color: white; } ${SunPanelTOCDomStyleId} .toc-sidebar-expansion .title-bar-title { opacity: 1; margin-left: 10px; } ${SunPanelTOCDomStyleId} .toc-sidebar-expansion .title-bar-slip { box-shadow: none; } ${SunPanelTOCDomStyleId} .toc-sidebar-expansion .title-bar-box:hover .title-bar-slip { width: 40px; } ${SunPanelTOCDomStyleId} .toc-sidebar-expansion .title-bar-box:hover .title-bar-title { font-size: 20px; } ` // 添加样式到文档头部 SunPanelTOCDom.appendChild(style) // ========= Add style end ========= // 添加移动端菜单按钮 const tocMobileBtn = document.createElement(&#39;div&#39;) tocMobileBtn.id = &#39;toc-mobile-btn&#39; tocMobileBtn.classList.add(&#39;backdrop-blur-[2px]&#39;) SunPanelTOCDom.appendChild(tocMobileBtn) const tocMobileBtnSvgcContainer = document.createElement(&#39;div&#39;) tocMobileBtnSvgcContainer.innerHTML = svgTocMobileBtn tocMobileBtnSvgcContainer.classList.add(&#39;toc-mobile-btn-svg-container&#39;) tocMobileBtn.appendChild(tocMobileBtnSvgcContainer) // 创建侧边栏容器 const sidebar = document.createElement(&#39;div&#39;) sidebar.id = &#39;toc-sidebar&#39; const sidebarBox = document.createElement(&#39;div&#39;) sidebarBox.className = &#39;toc-sidebar-box&#39; // 查询出所有类名包含 item-group-index- 的元素 const items = document.querySelectorAll(&#39;[class*=&#34;item-group-index-&#34;]&#39;) // 遍历并打印每个元素的完整类名 items.forEach((item) =&gt; { item.classList.forEach((className) =&gt; { if (className.startsWith(&#39;item-group-index-&#39;)) { const titleBarBox = document.createElement(&#39;div&#39;) titleBarBox.className = &#39;title-bar-box&#39; // titleBarBox.href = `#${item.id}` titleBarBox.dataset.groupClassName = className // 目录条 const titleBarSlip = document.createElement(&#39;div&#39;) titleBarSlip.className = &#39;title-bar-slip&#39; // 创建一个链接 const titleBarTitle = document.createElement(&#39;div&#39;) titleBarTitle.className = &#39;title-bar-title&#39; // 获取子元素中 class=&#34;group-title&#34; 的内容 const titleElement = item.querySelector(&#39;.group-title&#39;) const titleText = titleElement ? titleElement.textContent : item.id titleBarTitle.textContent = titleText titleBarBox.appendChild(titleBarSlip) titleBarBox.appendChild(titleBarTitle) sidebarBox.appendChild(titleBarBox) } }) }) sidebar.appendChild(sidebarBox) // 将侧边栏添加到页面中 SunPanelTOCDom.appendChild(sidebar) function mobileHideSidebar() { sidebar.classList.remove(&#39;toc-sidebar-expansion&#39;) sidebar.classList.add(&#39;hidden&#39;) } function hideSidebar() { sidebar.classList.remove(&#39;toc-sidebar-expansion&#39;) } function showSidebar() { sidebar.classList.add(&#39;toc-sidebar-expansion&#39;) sidebar.classList.remove(&#39;hidden&#39;) } // ---------------- // 监听宽度变化开始 // ---------------- function debounce(func, wait) { let timeout return function (...args) { clearTimeout(timeout) timeout = setTimeout(() =&gt; { func.apply(this, args) }, wait) } } function handleResize() { if (isMobile()) { tocMobileBtn.classList.remove(&#39;hidden&#39;) sidebar.classList.add(&#39;hidden&#39;) } else { tocMobileBtn.classList.add(&#39;hidden&#39;) sidebar.classList.remove(&#39;hidden&#39;) } } // 使用防抖函数包装你的处理函数 const debouncedHandleResize = debounce(handleResize, 200) // 添加事件监听器 window.addEventListener(&#39;resize&#39;, debouncedHandleResize) // 首次触发 handleResize() // ---------------- // 监听宽度变化结束 // ---------------- // 监听移动端按钮点击 tocMobileBtn.addEventListener(&#39;click&#39;, () =&gt; { if (sidebar.classList.contains(&#39;toc-sidebar-expansion&#39;)) { // 隐藏 mobileHideSidebar() } else { // 显示 showSidebar() } }) // 监听TOC栏失去hover sidebar.addEventListener(&#39;mouseleave&#39;, () =&gt; { if (isMobile()) { // 隐藏 mobileHideSidebar() } else { hideSidebar() } }) // 监听TOC栏获得hover sidebar.addEventListener(&#39;mouseenter&#39;, () =&gt; { showSidebar() }) // 监听TOC点击事件 document.querySelectorAll(&#39;.title-bar-box&#39;).forEach((box) =&gt; { box.addEventListener(&#39;click&#39;, function (event) { // 检查触发事件的元素是否有 &#39;data-groupClassName&#39; 属性 if (this.dataset.groupClassName) { // 获取 &#39;data-groupClass&#39; 属性的值 const groupClassName = this.dataset.groupClassName // 使用属性值作为选择器查询对应的元素 const targetElement = document.querySelector(`.${groupClassName}`) if (targetElement) { // 获取目标元素的 &#39;top&#39; 坐标 const targetTop = targetElement.offsetTop const scrollContainerElement = document.querySelector(scrollContainerElementClassName) if (scrollContainerElement) { scrollContainerElement.scrollTo({ top: targetTop - scrollOffset, behavior: &#39;smooth&#39;, // 平滑滚动 }) } } } }) }) } // 判断是否已经存在分组，不存在将定时监听 const items = document.querySelectorAll(&#39;[class*=&#34;item-group-index-&#34;]&#39;) if (items.length &gt; 0) { createDom() return } const interval = setInterval(() =&gt; { const items = document.querySelectorAll(&#39;[class*=&#34;item-group-index-&#34;]&#39;) if (items.length &gt; 0) { createDom() clearInterval(interval) } }, 1000) })() EOF 2 、Sun-Panel个性化设置&ndash;自定义页脚，粘贴以下内容 1 &lt;script src=&#34;/custom/index.js&#34;&gt;&lt;/script&gt; 二 、页面雪花特效 1 、创建xuehua.js文件 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 touch /mnt/mydisk/home/sun-panel/config/custom/xuehua.js &amp;&amp; cat &gt; /mnt/mydisk/home/sun-panel/config/custom/xuehua.js &lt;&lt;&#39;EOF&#39; function snow() { // 1、定义一片雪花模板 var flake = document.createElement(&#39;div&#39;); // 定义雪花字符 ❄❉❅❆✻✼❇❈❊✥✺ flake.innerHTML = &#39;❄&#39;; flake.style.cssText = &#39;position:absolute;color:#fff;&#39;; //获取页面的高度 相当于雪花下落结束时Y轴的位置 var documentHieght = window.innerHeight; //获取页面的宽度，利用这个数来算出，雪花开始时left的值 var documentWidth = window.innerWidth; //定义生成一片雪花的毫秒数，不建议低于100 var millisec =200; //2、设置第一个定时器，周期性定时器，每隔一段时间（millisec）生成一片雪花； setInterval(function() { //页面加载之后，定时器就开始工作 //随机生成雪花下落 开始 时left的值，相当于开始时X轴的位置 var startLeft = Math.random() * documentWidth; //随机生成雪花下落 结束 时left的值，相当于结束时X轴的位置 var endLeft = Math.random() * documentWidth; //随机生成雪花大小 var flakeSize = 3 + 20 * Math.random(); //随机生成雪花下落持续时间，时间越大下落越慢 var durationTime = 6000 + 10000 * Math.random(); //随机生成雪花下落 开始 时的透明度 var startOpacity = 0.7 + 0.3 * Math.random(); //随机生成雪花下落 结束 时的透明度 var endOpacity = 0.2 + 0.2 * Math.random(); //克隆一个雪花模板 var cloneFlake = flake.cloneNode(true); //第一次修改样式，定义克隆出来的雪花的样式 cloneFlake.style.cssText += ` left: ${startLeft}px; opacity: ${startOpacity}; font-size:${flakeSize}px; top:-25px; transition:${durationTime}ms;`; //拼接到页面中 document.body.appendChild(cloneFlake); //设置第二个定时器，一次性定时器， //当第一个定时器生成雪花，并在页面上渲染出来后，修改雪花的样式，让雪花动起来； setTimeout(function() { //第二次修改样式 cloneFlake.style.cssText += ` left: ${endLeft}px; top:${documentHieght}px; opacity:${endOpacity};`; //4、设置第三个定时器，当雪花落下后，删除雪花。 setTimeout(function() { cloneFlake.remove(); }, durationTime); }, 0); }, millisec); } snow(); EOF 2 、Sun-Panel个性化设置&ndash;自定义页脚，粘贴以下内容 1 &lt;script src=&#34;/custom/xuehua.js&#34;&gt;&lt;/script&gt; 三 、mp4视频壁纸 1 、创建js文件 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 touch /mnt/mydisk/home/sun-panel/config/custom/mp4.js &amp;&amp; cat &gt; /mnt/mydisk/home/sun-panel/config/custom/mp4.js &lt;&lt;&#39;EOF&#39; document.addEventListener(&#39;DOMContentLoaded&#39;, (event) =&gt; { // 用于添加视频背景的函数 const addVideoBackground = (wallpaperDiv) =&gt; { // 创建video元素 const video = document.createElement(&#39;video&#39;); // 设置视频属性 video.autoplay = true; // 使用属性而不是setAttribute，因为autoplay是一个布尔属性 video.loop = true; video.muted = true; video.playsInline = true; // 注意这里是驼峰式写法，但在HTML中应使用playsinline // 应用CSS样式到video元素 video.style.position = &#39;absolute&#39;; video.style.top = &#39;0&#39;; video.style.left = &#39;0&#39;; video.style.width = &#39;100%&#39;; video.style.height = &#39;100%&#39;; video.style.objectFit = &#39;cover&#39;; // 定义多个视频源 const videoSources = [ &#39;/uploads/%E5%8A%A8%E6%80%81%E5%A3%81%E7%BA%B8-01.mp4&#39;, &#39;/uploads/%E5%8A%A8%E6%80%81%E5%A3%81%E7%BA%B8-02.mp4&#39;, &#39;/uploads/%E5%8A%A8%E6%80%81%E5%A3%81%E7%BA%B8-03.mp4&#39;, &#39;/uploads/%E5%8A%A8%E6%80%81%E5%A3%81%E7%BA%B8-04.mp4&#39;, &#39;/uploads/%E5%8A%A8%E6%80%81%E5%A3%81%E7%BA%B8-05.mp4&#39;, // &#39;/uploads/%E5%8A%A8%E6%80%81%E5%A3%81%E7%BA%B8-06.mp4&#39;, // &#39;/uploads/%E5%8A%A8%E6%80%81%E5%A3%81%E7%BA%B8-07.mp4&#39;, // &#39;/uploads/%E5%8A%A8%E6%80%81%E5%A3%81%E7%BA%B8-08.mp4&#39;, // &#39;/uploads/%E5%8A%A8%E6%80%81%E5%A3%81%E7%BA%B8-09.mp4&#39; // 在这里可以添加更多的视频源 ]; // 从视频源数组中随机选择一个 const randomSource = videoSources[Math.floor(Math.random() * videoSources.length)]; // 创建source元素并设置随机选择的视频源 const source = document.createElement(&#39;source&#39;); source.src = randomSource; source.type = &#39;video/mp4&#39;; // 将source元素添加到video元素中 video.appendChild(source); // 监听视频加载元数据事件，尝试播放视频 video.addEventListener(&#39;loadedmetadata&#39;, () =&gt; { video.play().catch((error) =&gt; { // 如果播放失败，可以在这里处理错误，例如显示一个备用图片或消息 console.error(&#39;视频播放失败:&#39;, error); }); }); // 将video元素添加到指定的wallpaperDiv中 wallpaperDiv.appendChild(video); }; // 使用MutationObserver监视DOM变化 const observer = new MutationObserver((mutationsList, observer) =&gt; { // 查找匹配的.cover.wallpaper元素 const wallpaperDiv = document.querySelector(&#39;.cover.wallpaper&#39;); if (wallpaperDiv &amp;&amp; !wallpaperDiv.querySelector(&#39;video&#39;)) { // 添加视频背景 addVideoBackground(wallpaperDiv); // 注意：我们不再断开观察者，以便它能够继续监视未来的变化 } }); // 启动观察者监视document.body的变化 observer.observe(document.body, { childList: true, subtree: true }); }); EOF 2 、Sun-Panel个性化设置&ndash;自定义页脚，粘贴以下内容 1 &lt;script src=&#34;/custom/mp4.js&#34;&gt;&lt;/script&gt; 四 、点击特效-散开 1 、创建js文件 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 touch /mnt/mydisk/home/sun-panel/config/custom/dianji.js &amp;&amp; cat &gt; /mnt/mydisk/home/sun-panel/config/custom/dianji.js &lt;&lt;&#39;EOF&#39; class Circle { constructor({ origin, speed, color, angle, context }) { this.origin = origin; // 初始位置 this.position = { ...this.origin }; // 当前位置 this.color = color; // 颜色 this.speed = speed; // 速度 this.angle = angle; // 角度 this.context = context; // 绘制上下文 this.renderCount = 0; // 渲染计数 } draw() { // 绘制圆形 this.context.fillStyle = this.color; this.context.beginPath(); this.context.arc(this.position.x, this.position.y, 2, 0, Math.PI * 2); this.context.fill(); } move() { // 移动圆形 this.position.x = (Math.sin(this.angle) * this.speed) + this.position.x; this.position.y = (Math.cos(this.angle) * this.speed) + this.position.y + (this.renderCount * 0.3); this.renderCount++; } } class Boom { constructor({ origin, context, circleCount = 10, area }) { this.origin = origin; // 初始位置 this.context = context; // 绘制上下文 this.circleCount = circleCount; // 圆形数量 this.area = area; // 区域 this.stop = false; // 停止标志 this.circles = []; // 圆形数组 } randomArray(range) { // 从数组中随机取值 const length = range.length; const randomIndex = Math.floor(length * Math.random()); return range[randomIndex]; } randomColor() { // 随机生成颜色 const range = [&#39;8&#39;, &#39;9&#39;, &#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39;]; return &#39;#&#39; + this.randomArray(range) + this.randomArray(range) + this.randomArray(range) + this.randomArray(range) + this.randomArray(range) + this.randomArray(range); } randomRange(start, end) { // 在范围内生成随机数 return (end - start) * Math.random() + start; } init() { // 初始化Boom对象 for (let i = 0; i &lt; this.circleCount; i++) { const circle = new Circle({ context: this.context, origin: this.origin, color: this.randomColor(), angle: this.randomRange(Math.PI - 1, Math.PI + 1), speed: this.randomRange(1, 6) }); this.circles.push(circle); } } move() { // 移动所有圆形，并检测是否超出区域 this.circles.forEach((circle, index) =&gt; { if (circle.position.x &gt; this.area.width || circle.position.y &gt; this.area.height) { return this.circles.splice(index, 1); } circle.move(); }); if (this.circles.length === 0) { this.stop = true; } } draw() { // 绘制所有圆形 this.circles.forEach(circle =&gt; circle.draw()); } } class CursorSpecialEffects { constructor() { // 鼠标特效主类 this.computerCanvas = document.createElement(&#39;canvas&#39;); // 计算用Canvas this.renderCanvas = document.createElement(&#39;canvas&#39;); // 渲染用Canvas this.computerContext = this.computerCanvas.getContext(&#39;2d&#39;); // 计算用上下文 this.renderContext = this.renderCanvas.getContext(&#39;2d&#39;); // 渲染用上下文 this.globalWidth = window.innerWidth; // 全局宽度 this.globalHeight = window.innerHeight; // 全局高度 this.booms = []; // Boom对象数组 this.running = false; // 运行标志 } handleMouseDown(e) { // 处理鼠标点击事件 const boom = new Boom({ origin: { x: e.clientX, y: e.clientY }, context: this.computerContext, area: { width: this.globalWidth, height: this.globalHeight } }); boom.init(); this.booms.push(boom); this.running || this.run(); } handlePageHide() { // 处理页面隐藏事件 this.booms = []; this.running = false; } init() { // 初始化方法 const style = this.renderCanvas.style; style.position = &#39;fixed&#39;; style.top = style.left = 0; style.zIndex = &#39;999999999999999999999999999999999999999999&#39;; style.pointerEvents = &#39;none&#39;; style.width = this.renderCanvas.width = this.computerCanvas.width = this.globalWidth; style.height = this.renderCanvas.height = this.computerCanvas.height = this.globalHeight; document.body.append(this.renderCanvas); window.addEventListener(&#39;mousedown&#39;, this.handleMouseDown.bind(this)); window.addEventListener(&#39;pagehide&#39;, this.handlePageHide.bind(this)); } run() { // 运行方法 this.running = true; if (this.booms.length === 0) { return this.running = false; } requestAnimationFrame(this.run.bind(this)); this.computerContext.clearRect(0, 0, this.globalWidth, this.globalHeight); this.renderContext.clearRect(0, 0, this.globalWidth, this.globalHeight); this.booms.forEach((boom, index) =&gt; { if (boom.stop) { return this.booms.splice(index, 1); } boom.move(); boom.draw(); }); this.renderContext.drawImage(this.computerCanvas, 0, 0, this.globalWidth, this.globalHeight); } } const cursorSpecialEffects = new CursorSpecialEffects(); cursorSpecialEffects.init(); EOF 2 、Sun-Panel个性化设置&ndash;自定义页脚，粘贴以下内容 1 &lt;script src=&#34;/custom/dianji.js&#34;&gt;&lt;/script&gt; 五 、点击特效-烟花 点击烟花效果js插件地址：https://github.com/hslr-s/sun-panel-js-plugins/tree/master/clickFireworksEffects 1 、创建yanhua.js文件 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 touch /mnt/mydisk/home/sun-panel/config/custom/index.js &amp;&amp; cat &gt; /mnt/mydisk/home/sun-panel/config/custom/yanhua.js &lt;&lt;&#39;EOF&#39; function clickFireworksEffects() { let balls = []; let longPressed = false; let longPress; let multiplier = 0; let width, height; let origin; let normal; let ctx; const colours = [&#34;#F73859&#34;, &#34;#14FFEC&#34;, &#34;#00E0FF&#34;, &#34;#FF99FE&#34;, &#34;#FAF15D&#34;]; const canvas = document.createElement(&#34;canvas&#34;); document.body.appendChild(canvas); canvas.setAttribute(&#34;style&#34;, &#34;width: 100%; height: 100%; top: 0; left: 0; z-index: 99999; position: fixed; pointer-events: none;&#34;); const pointer = document.createElement(&#34;span&#34;); pointer.classList.add(&#34;pointer&#34;); document.body.appendChild(pointer); if (canvas.getContext &amp;&amp; window.addEventListener) { ctx = canvas.getContext(&#34;2d&#34;); updateSize(); window.addEventListener(&#39;resize&#39;, updateSize, false); loop(); window.addEventListener(&#34;mousedown&#34;, function(e) { pushBalls(randBetween(10, 20), e.clientX, e.clientY); document.body.classList.add(&#34;is-pressed&#34;); longPress = setTimeout(function(){ document.body.classList.add(&#34;is-longpress&#34;); longPressed = true; }, 500); }, false); window.addEventListener(&#34;mouseup&#34;, function(e) { clearInterval(longPress); if (longPressed == true) { document.body.classList.remove(&#34;is-longpress&#34;); pushBalls(randBetween(50 + Math.ceil(multiplier), 100 + Math.ceil(multiplier)), e.clientX, e.clientY); longPressed = false; } document.body.classList.remove(&#34;is-pressed&#34;); }, false); window.addEventListener(&#34;mousemove&#34;, function(e) { let x = e.clientX; let y = e.clientY; pointer.style.top = y + &#34;px&#34;; pointer.style.left = x + &#34;px&#34;; }, false); } else { console.log(&#34;canvas or addEventListener is unsupported!&#34;); } function updateSize() { canvas.width = window.innerWidth * 2; canvas.height = window.innerHeight * 2; canvas.style.width = window.innerWidth + &#39;px&#39;; canvas.style.height = window.innerHeight + &#39;px&#39;; ctx.scale(2, 2); width = (canvas.width = window.innerWidth); height = (canvas.height = window.innerHeight); origin = { x: width / 2, y: height / 2 }; normal = { x: width / 2, y: height / 2 }; } class Ball { constructor(x = origin.x, y = origin.y) { this.x = x; this.y = y; this.angle = Math.PI * 2 * Math.random(); if (longPressed == true) { this.multiplier = randBetween(14 + multiplier, 15 + multiplier); } else { this.multiplier = randBetween(6, 12); } this.vx = (this.multiplier + Math.random() * 0.5) * Math.cos(this.angle); this.vy = (this.multiplier + Math.random() * 0.5) * Math.sin(this.angle); this.r = randBetween(8, 12) + 3 * Math.random(); this.color = colours[Math.floor(Math.random() * colours.length)]; } update() { this.x += this.vx - normal.x; this.y += this.vy - normal.y; normal.x = -2 / window.innerWidth * Math.sin(this.angle); normal.y = -2 / window.innerHeight * Math.cos(this.angle); this.r -= 0.3; this.vx *= 0.9; this.vy *= 0.9; } } function pushBalls(count = 1, x = origin.x, y = origin.y) { for (let i = 0; i &lt; count; i++) { balls.push(new Ball(x, y)); } } function randBetween(min, max) { return Math.floor(Math.random() * max) + min; } function loop() { ctx.fillStyle = &#34;rgba(255, 255, 255, 0)&#34;; ctx.clearRect(0, 0, canvas.width, canvas.height); for (let i = 0; i &lt; balls.length; i++) { let b = balls[i]; if (b.r &lt; 0) continue; ctx.fillStyle = b.color; ctx.beginPath(); ctx.arc(b.x, b.y, b.r, 0, Math.PI * 2, false); ctx.fill(); b.update(); } if (longPressed == true) { multiplier += 0.2; } else if (!longPressed &amp;&amp; multiplier &gt;= 0) { multiplier -= 0.4; } removeBall(); requestAnimationFrame(loop); } function removeBall() { for (let i = 0; i &lt; balls.length; i++) { let b = balls[i]; if (b.x + b.r &lt; 0 || b.x - b.r &gt; width || b.y + b.r &lt; 0 || b.y - b.r &gt; height || b.r &lt; 0) { balls.splice(i, 1); } } } } clickFireworksEffects();//调用特效函数 EOF 2 、Sun-Panel个性化设置&ndash;自定义页脚，粘贴以下内容 1 &lt;script src=&#34;/custom/yanhua.js&#34;&gt;&lt;/script&gt; 浏览器清空缓存，刷新后见效果 ">
<title>Sun Panel Js源码</title>

<link rel='canonical' href='https://meimolihan.github.io/p/sun-panel-js%E6%BA%90%E7%A0%81/'>

<link rel="stylesheet" href="/scss/style.min.e2a020e21791132b50bdb0e35cc05d410b959a36d6471dfb74c2339417a033b9.css"><script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>

<script>
    
    $(window).scroll(function() {
    if ($(this).scrollTop()) {
        $('#back-to-top').fadeIn();
    } else {
        $('#back-to-top').fadeOut();
    }
    });

    
    $('#back-to-top').click(function() {
    $('html, body').animate({scrollTop: 0}, 1000);
    return false;
    });
</script>
<meta property='og:title' content="Sun Panel Js源码">
<meta property='og:description' content=" Sun-Panel-js源码 插件集地址：https://github.com/hslr-s/sun-panel-js-plugins\nSun-Panel：https://doc.sun-panel.top/zh_cn\n一 、显示概览快速跳转&ndash;服务器主机shell输入以下命令 1 、创建js文件 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 289 290 291 292 293 294 295 296 297 298 299 300 301 302 303 304 305 306 307 308 309 310 311 312 313 314 315 316 317 318 319 320 321 322 323 324 325 326 327 328 329 touch /mnt/mydisk/home/sun-panel/config/custom/index.js &amp;&amp; cat &gt; /mnt/mydisk/home/sun-panel/config/custom/index.js &lt;&lt;&#39;EOF&#39; (function () { // =========== Config Start =========== // ------------------------------------ // 距离滚动偏移量 const scrollOffset = 80 // 显示风格( auto:自动(默认) | mobile:左上角显示触发按钮-移动端风格 | sidebar:常态显示侧栏) const displayStyle = &#39;auto&#39; // 移动端宽度定义 const mobileWidth = 800 const SunPanelTOCDomIdName = &#39;sun-panel-toc-dom&#39; // 左上角按钮 SVG 图标 const svgTocMobileBtn = &#39;&lt;svg xmlns=&#34;http://www.w3.org/2000/svg&#34; viewBox=&#34;0 0 24 24&#34;&gt;&lt;path fill=&#34;currentColor&#34; d=&#34;M17.5 4.5c-1.95 0-4.05.4-5.5 1.5c-1.45-1.1-3.55-1.5-5.5-1.5c-1.45 0-2.99.22-4.28.79C1.49 5.62 1 6.33 1 7.14v11.28c0 1.3 1.22 2.26 2.48 1.94c.98-.25 2.02-.36 3.02-.36c1.56 0 3.22.26 4.56.92c.6.3 1.28.3 1.87 0c1.34-.67 3-.92 4.56-.92c1 0 2.04.11 3.02.36c1.26.33 2.48-.63 2.48-1.94V7.14c0-.81-.49-1.52-1.22-1.85c-1.28-.57-2.82-.79-4.27-.79M21 17.23c0 .63-.58 1.09-1.2.98c-.75-.14-1.53-.2-2.3-.2c-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5c.92 0 1.83.09 2.7.28c.46.1.8.51.8.98z&#34;/&gt;&lt;path fill=&#34;currentColor&#34; d=&#34;M13.98 11.01c-.32 0-.61-.2-.71-.52c-.13-.39.09-.82.48-.94c1.54-.5 3.53-.66 5.36-.45c.41.05.71.42.66.83s-.42.71-.83.66c-1.62-.19-3.39-.04-4.73.39c-.08.01-.16.03-.23.03m0 2.66c-.32 0-.61-.2-.71-.52c-.13-.39.09-.82.48-.94c1.53-.5 3.53-.66 5.36-.45c.41.05.71.42.66.83s-.42.71-.83.66c-1.62-.19-3.39-.04-4.73.39a1 1 0 0 1-.23.03m0 2.66c-.32 0-.61-.2-.71-.52c-.13-.39.09-.82.48-.94c1.53-.5 3.53-.66 5.36-.45c.41.05.71.42.66.83s-.42.7-.83.66c-1.62-.19-3.39-.04-4.73.39a1 1 0 0 1-.23.03&#34;/&gt;&lt;/svg&gt;&#39; // ------------------------------------ // =========== Config End =========== // 滚动容器的类名 const scrollContainerElementClassName = &#39;.scroll-container&#39; // 一些函数 const isMobile = () =&gt; { if (displayStyle === &#39;mobile&#39;) { return true } else if (displayStyle === &#39;pc&#39;) { return false } const width = window.innerWidth return width &lt; mobileWidth } function createDom() { // 检测是否已经存在TOC DOM，存在则删除 (function () { const element = document.getElementById(SunPanelTOCDomIdName) if (element) { element.remove() } })() const SunPanelTOCDom = document.createElement(&#39;div&#39;) SunPanelTOCDom.id = SunPanelTOCDomIdName document.body.appendChild(SunPanelTOCDom) // ========= Add style start ========= const style = document.createElement(&#39;style&#39;) const SunPanelTOCDomStyleId = `#${SunPanelTOCDomIdName}` style.textContent = ` ${SunPanelTOCDomStyleId} #toc-mobile-btn { top: 20px !important; left: 20px !important; position: fixed; width: 46px; height: 46px; background-color: #2a2a2a6b; color: white; border-radius: 0.5rem; display: flex; justify-content: center; align-items: center; cursor: pointer; } ${SunPanelTOCDomStyleId} .hidden { display: none !important; } ${SunPanelTOCDomStyleId} #toc-sidebar { width: 40px; padding: 10px; position: fixed; top: 0; left: 0; height: 100%; overflow: hidden; display: flex; flex-direction: column; justify-content: center; transition: width 0.3s ease, background-color 0.3s ease; border-top-right-radius: 20px; border-bottom-right-radius: 20px; background-color: none; } ${SunPanelTOCDomStyleId} .toc-mobile-btn-svg-container{ width:21px; height:21px; } ${SunPanelTOCDomStyleId} .toc-sidebar-expansion { width: 200px !important; display: flex; background-color: rgb(42 42 42 / 90%); box-shadow: 2px 0 5px rgba(0, 0, 0, 0.2); } ${SunPanelTOCDomStyleId} #toc-sidebar .toc-sidebar-box { width: 500px; } ${SunPanelTOCDomStyleId} .title-bar-box { display: flex; align-items: center; position: relative; cursor: pointer; } ${SunPanelTOCDomStyleId} .title-bar-slip { width: 20px; height: 6px; background-color: white; border-radius: 4px; margin: 15px 0; transition: height 0.3s ease, width 0.3s ease; box-shadow: 2px 0 5px rgba(0, 0, 0, 0.5); } ${SunPanelTOCDomStyleId} .title-bar-title { opacity: 0; white-space: nowrap; transition: opacity 0.3s ease, transform 0.3s ease, margin-left 0.3s ease; font-size: 14px; color: white; } ${SunPanelTOCDomStyleId} .toc-sidebar-expansion .title-bar-title { opacity: 1; margin-left: 10px; } ${SunPanelTOCDomStyleId} .toc-sidebar-expansion .title-bar-slip { box-shadow: none; } ${SunPanelTOCDomStyleId} .toc-sidebar-expansion .title-bar-box:hover .title-bar-slip { width: 40px; } ${SunPanelTOCDomStyleId} .toc-sidebar-expansion .title-bar-box:hover .title-bar-title { font-size: 20px; } ` // 添加样式到文档头部 SunPanelTOCDom.appendChild(style) // ========= Add style end ========= // 添加移动端菜单按钮 const tocMobileBtn = document.createElement(&#39;div&#39;) tocMobileBtn.id = &#39;toc-mobile-btn&#39; tocMobileBtn.classList.add(&#39;backdrop-blur-[2px]&#39;) SunPanelTOCDom.appendChild(tocMobileBtn) const tocMobileBtnSvgcContainer = document.createElement(&#39;div&#39;) tocMobileBtnSvgcContainer.innerHTML = svgTocMobileBtn tocMobileBtnSvgcContainer.classList.add(&#39;toc-mobile-btn-svg-container&#39;) tocMobileBtn.appendChild(tocMobileBtnSvgcContainer) // 创建侧边栏容器 const sidebar = document.createElement(&#39;div&#39;) sidebar.id = &#39;toc-sidebar&#39; const sidebarBox = document.createElement(&#39;div&#39;) sidebarBox.className = &#39;toc-sidebar-box&#39; // 查询出所有类名包含 item-group-index- 的元素 const items = document.querySelectorAll(&#39;[class*=&#34;item-group-index-&#34;]&#39;) // 遍历并打印每个元素的完整类名 items.forEach((item) =&gt; { item.classList.forEach((className) =&gt; { if (className.startsWith(&#39;item-group-index-&#39;)) { const titleBarBox = document.createElement(&#39;div&#39;) titleBarBox.className = &#39;title-bar-box&#39; // titleBarBox.href = `#${item.id}` titleBarBox.dataset.groupClassName = className // 目录条 const titleBarSlip = document.createElement(&#39;div&#39;) titleBarSlip.className = &#39;title-bar-slip&#39; // 创建一个链接 const titleBarTitle = document.createElement(&#39;div&#39;) titleBarTitle.className = &#39;title-bar-title&#39; // 获取子元素中 class=&#34;group-title&#34; 的内容 const titleElement = item.querySelector(&#39;.group-title&#39;) const titleText = titleElement ? titleElement.textContent : item.id titleBarTitle.textContent = titleText titleBarBox.appendChild(titleBarSlip) titleBarBox.appendChild(titleBarTitle) sidebarBox.appendChild(titleBarBox) } }) }) sidebar.appendChild(sidebarBox) // 将侧边栏添加到页面中 SunPanelTOCDom.appendChild(sidebar) function mobileHideSidebar() { sidebar.classList.remove(&#39;toc-sidebar-expansion&#39;) sidebar.classList.add(&#39;hidden&#39;) } function hideSidebar() { sidebar.classList.remove(&#39;toc-sidebar-expansion&#39;) } function showSidebar() { sidebar.classList.add(&#39;toc-sidebar-expansion&#39;) sidebar.classList.remove(&#39;hidden&#39;) } // ---------------- // 监听宽度变化开始 // ---------------- function debounce(func, wait) { let timeout return function (...args) { clearTimeout(timeout) timeout = setTimeout(() =&gt; { func.apply(this, args) }, wait) } } function handleResize() { if (isMobile()) { tocMobileBtn.classList.remove(&#39;hidden&#39;) sidebar.classList.add(&#39;hidden&#39;) } else { tocMobileBtn.classList.add(&#39;hidden&#39;) sidebar.classList.remove(&#39;hidden&#39;) } } // 使用防抖函数包装你的处理函数 const debouncedHandleResize = debounce(handleResize, 200) // 添加事件监听器 window.addEventListener(&#39;resize&#39;, debouncedHandleResize) // 首次触发 handleResize() // ---------------- // 监听宽度变化结束 // ---------------- // 监听移动端按钮点击 tocMobileBtn.addEventListener(&#39;click&#39;, () =&gt; { if (sidebar.classList.contains(&#39;toc-sidebar-expansion&#39;)) { // 隐藏 mobileHideSidebar() } else { // 显示 showSidebar() } }) // 监听TOC栏失去hover sidebar.addEventListener(&#39;mouseleave&#39;, () =&gt; { if (isMobile()) { // 隐藏 mobileHideSidebar() } else { hideSidebar() } }) // 监听TOC栏获得hover sidebar.addEventListener(&#39;mouseenter&#39;, () =&gt; { showSidebar() }) // 监听TOC点击事件 document.querySelectorAll(&#39;.title-bar-box&#39;).forEach((box) =&gt; { box.addEventListener(&#39;click&#39;, function (event) { // 检查触发事件的元素是否有 &#39;data-groupClassName&#39; 属性 if (this.dataset.groupClassName) { // 获取 &#39;data-groupClass&#39; 属性的值 const groupClassName = this.dataset.groupClassName // 使用属性值作为选择器查询对应的元素 const targetElement = document.querySelector(`.${groupClassName}`) if (targetElement) { // 获取目标元素的 &#39;top&#39; 坐标 const targetTop = targetElement.offsetTop const scrollContainerElement = document.querySelector(scrollContainerElementClassName) if (scrollContainerElement) { scrollContainerElement.scrollTo({ top: targetTop - scrollOffset, behavior: &#39;smooth&#39;, // 平滑滚动 }) } } } }) }) } // 判断是否已经存在分组，不存在将定时监听 const items = document.querySelectorAll(&#39;[class*=&#34;item-group-index-&#34;]&#39;) if (items.length &gt; 0) { createDom() return } const interval = setInterval(() =&gt; { const items = document.querySelectorAll(&#39;[class*=&#34;item-group-index-&#34;]&#39;) if (items.length &gt; 0) { createDom() clearInterval(interval) } }, 1000) })() EOF 2 、Sun-Panel个性化设置&ndash;自定义页脚，粘贴以下内容 1 &lt;script src=&#34;/custom/index.js&#34;&gt;&lt;/script&gt; 二 、页面雪花特效 1 、创建xuehua.js文件 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 touch /mnt/mydisk/home/sun-panel/config/custom/xuehua.js &amp;&amp; cat &gt; /mnt/mydisk/home/sun-panel/config/custom/xuehua.js &lt;&lt;&#39;EOF&#39; function snow() { // 1、定义一片雪花模板 var flake = document.createElement(&#39;div&#39;); // 定义雪花字符 ❄❉❅❆✻✼❇❈❊✥✺ flake.innerHTML = &#39;❄&#39;; flake.style.cssText = &#39;position:absolute;color:#fff;&#39;; //获取页面的高度 相当于雪花下落结束时Y轴的位置 var documentHieght = window.innerHeight; //获取页面的宽度，利用这个数来算出，雪花开始时left的值 var documentWidth = window.innerWidth; //定义生成一片雪花的毫秒数，不建议低于100 var millisec =200; //2、设置第一个定时器，周期性定时器，每隔一段时间（millisec）生成一片雪花； setInterval(function() { //页面加载之后，定时器就开始工作 //随机生成雪花下落 开始 时left的值，相当于开始时X轴的位置 var startLeft = Math.random() * documentWidth; //随机生成雪花下落 结束 时left的值，相当于结束时X轴的位置 var endLeft = Math.random() * documentWidth; //随机生成雪花大小 var flakeSize = 3 + 20 * Math.random(); //随机生成雪花下落持续时间，时间越大下落越慢 var durationTime = 6000 + 10000 * Math.random(); //随机生成雪花下落 开始 时的透明度 var startOpacity = 0.7 + 0.3 * Math.random(); //随机生成雪花下落 结束 时的透明度 var endOpacity = 0.2 + 0.2 * Math.random(); //克隆一个雪花模板 var cloneFlake = flake.cloneNode(true); //第一次修改样式，定义克隆出来的雪花的样式 cloneFlake.style.cssText += ` left: ${startLeft}px; opacity: ${startOpacity}; font-size:${flakeSize}px; top:-25px; transition:${durationTime}ms;`; //拼接到页面中 document.body.appendChild(cloneFlake); //设置第二个定时器，一次性定时器， //当第一个定时器生成雪花，并在页面上渲染出来后，修改雪花的样式，让雪花动起来； setTimeout(function() { //第二次修改样式 cloneFlake.style.cssText += ` left: ${endLeft}px; top:${documentHieght}px; opacity:${endOpacity};`; //4、设置第三个定时器，当雪花落下后，删除雪花。 setTimeout(function() { cloneFlake.remove(); }, durationTime); }, 0); }, millisec); } snow(); EOF 2 、Sun-Panel个性化设置&ndash;自定义页脚，粘贴以下内容 1 &lt;script src=&#34;/custom/xuehua.js&#34;&gt;&lt;/script&gt; 三 、mp4视频壁纸 1 、创建js文件 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 touch /mnt/mydisk/home/sun-panel/config/custom/mp4.js &amp;&amp; cat &gt; /mnt/mydisk/home/sun-panel/config/custom/mp4.js &lt;&lt;&#39;EOF&#39; document.addEventListener(&#39;DOMContentLoaded&#39;, (event) =&gt; { // 用于添加视频背景的函数 const addVideoBackground = (wallpaperDiv) =&gt; { // 创建video元素 const video = document.createElement(&#39;video&#39;); // 设置视频属性 video.autoplay = true; // 使用属性而不是setAttribute，因为autoplay是一个布尔属性 video.loop = true; video.muted = true; video.playsInline = true; // 注意这里是驼峰式写法，但在HTML中应使用playsinline // 应用CSS样式到video元素 video.style.position = &#39;absolute&#39;; video.style.top = &#39;0&#39;; video.style.left = &#39;0&#39;; video.style.width = &#39;100%&#39;; video.style.height = &#39;100%&#39;; video.style.objectFit = &#39;cover&#39;; // 定义多个视频源 const videoSources = [ &#39;/uploads/%E5%8A%A8%E6%80%81%E5%A3%81%E7%BA%B8-01.mp4&#39;, &#39;/uploads/%E5%8A%A8%E6%80%81%E5%A3%81%E7%BA%B8-02.mp4&#39;, &#39;/uploads/%E5%8A%A8%E6%80%81%E5%A3%81%E7%BA%B8-03.mp4&#39;, &#39;/uploads/%E5%8A%A8%E6%80%81%E5%A3%81%E7%BA%B8-04.mp4&#39;, &#39;/uploads/%E5%8A%A8%E6%80%81%E5%A3%81%E7%BA%B8-05.mp4&#39;, // &#39;/uploads/%E5%8A%A8%E6%80%81%E5%A3%81%E7%BA%B8-06.mp4&#39;, // &#39;/uploads/%E5%8A%A8%E6%80%81%E5%A3%81%E7%BA%B8-07.mp4&#39;, // &#39;/uploads/%E5%8A%A8%E6%80%81%E5%A3%81%E7%BA%B8-08.mp4&#39;, // &#39;/uploads/%E5%8A%A8%E6%80%81%E5%A3%81%E7%BA%B8-09.mp4&#39; // 在这里可以添加更多的视频源 ]; // 从视频源数组中随机选择一个 const randomSource = videoSources[Math.floor(Math.random() * videoSources.length)]; // 创建source元素并设置随机选择的视频源 const source = document.createElement(&#39;source&#39;); source.src = randomSource; source.type = &#39;video/mp4&#39;; // 将source元素添加到video元素中 video.appendChild(source); // 监听视频加载元数据事件，尝试播放视频 video.addEventListener(&#39;loadedmetadata&#39;, () =&gt; { video.play().catch((error) =&gt; { // 如果播放失败，可以在这里处理错误，例如显示一个备用图片或消息 console.error(&#39;视频播放失败:&#39;, error); }); }); // 将video元素添加到指定的wallpaperDiv中 wallpaperDiv.appendChild(video); }; // 使用MutationObserver监视DOM变化 const observer = new MutationObserver((mutationsList, observer) =&gt; { // 查找匹配的.cover.wallpaper元素 const wallpaperDiv = document.querySelector(&#39;.cover.wallpaper&#39;); if (wallpaperDiv &amp;&amp; !wallpaperDiv.querySelector(&#39;video&#39;)) { // 添加视频背景 addVideoBackground(wallpaperDiv); // 注意：我们不再断开观察者，以便它能够继续监视未来的变化 } }); // 启动观察者监视document.body的变化 observer.observe(document.body, { childList: true, subtree: true }); }); EOF 2 、Sun-Panel个性化设置&ndash;自定义页脚，粘贴以下内容 1 &lt;script src=&#34;/custom/mp4.js&#34;&gt;&lt;/script&gt; 四 、点击特效-散开 1 、创建js文件 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 touch /mnt/mydisk/home/sun-panel/config/custom/dianji.js &amp;&amp; cat &gt; /mnt/mydisk/home/sun-panel/config/custom/dianji.js &lt;&lt;&#39;EOF&#39; class Circle { constructor({ origin, speed, color, angle, context }) { this.origin = origin; // 初始位置 this.position = { ...this.origin }; // 当前位置 this.color = color; // 颜色 this.speed = speed; // 速度 this.angle = angle; // 角度 this.context = context; // 绘制上下文 this.renderCount = 0; // 渲染计数 } draw() { // 绘制圆形 this.context.fillStyle = this.color; this.context.beginPath(); this.context.arc(this.position.x, this.position.y, 2, 0, Math.PI * 2); this.context.fill(); } move() { // 移动圆形 this.position.x = (Math.sin(this.angle) * this.speed) + this.position.x; this.position.y = (Math.cos(this.angle) * this.speed) + this.position.y + (this.renderCount * 0.3); this.renderCount++; } } class Boom { constructor({ origin, context, circleCount = 10, area }) { this.origin = origin; // 初始位置 this.context = context; // 绘制上下文 this.circleCount = circleCount; // 圆形数量 this.area = area; // 区域 this.stop = false; // 停止标志 this.circles = []; // 圆形数组 } randomArray(range) { // 从数组中随机取值 const length = range.length; const randomIndex = Math.floor(length * Math.random()); return range[randomIndex]; } randomColor() { // 随机生成颜色 const range = [&#39;8&#39;, &#39;9&#39;, &#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39;]; return &#39;#&#39; + this.randomArray(range) + this.randomArray(range) + this.randomArray(range) + this.randomArray(range) + this.randomArray(range) + this.randomArray(range); } randomRange(start, end) { // 在范围内生成随机数 return (end - start) * Math.random() + start; } init() { // 初始化Boom对象 for (let i = 0; i &lt; this.circleCount; i++) { const circle = new Circle({ context: this.context, origin: this.origin, color: this.randomColor(), angle: this.randomRange(Math.PI - 1, Math.PI + 1), speed: this.randomRange(1, 6) }); this.circles.push(circle); } } move() { // 移动所有圆形，并检测是否超出区域 this.circles.forEach((circle, index) =&gt; { if (circle.position.x &gt; this.area.width || circle.position.y &gt; this.area.height) { return this.circles.splice(index, 1); } circle.move(); }); if (this.circles.length === 0) { this.stop = true; } } draw() { // 绘制所有圆形 this.circles.forEach(circle =&gt; circle.draw()); } } class CursorSpecialEffects { constructor() { // 鼠标特效主类 this.computerCanvas = document.createElement(&#39;canvas&#39;); // 计算用Canvas this.renderCanvas = document.createElement(&#39;canvas&#39;); // 渲染用Canvas this.computerContext = this.computerCanvas.getContext(&#39;2d&#39;); // 计算用上下文 this.renderContext = this.renderCanvas.getContext(&#39;2d&#39;); // 渲染用上下文 this.globalWidth = window.innerWidth; // 全局宽度 this.globalHeight = window.innerHeight; // 全局高度 this.booms = []; // Boom对象数组 this.running = false; // 运行标志 } handleMouseDown(e) { // 处理鼠标点击事件 const boom = new Boom({ origin: { x: e.clientX, y: e.clientY }, context: this.computerContext, area: { width: this.globalWidth, height: this.globalHeight } }); boom.init(); this.booms.push(boom); this.running || this.run(); } handlePageHide() { // 处理页面隐藏事件 this.booms = []; this.running = false; } init() { // 初始化方法 const style = this.renderCanvas.style; style.position = &#39;fixed&#39;; style.top = style.left = 0; style.zIndex = &#39;999999999999999999999999999999999999999999&#39;; style.pointerEvents = &#39;none&#39;; style.width = this.renderCanvas.width = this.computerCanvas.width = this.globalWidth; style.height = this.renderCanvas.height = this.computerCanvas.height = this.globalHeight; document.body.append(this.renderCanvas); window.addEventListener(&#39;mousedown&#39;, this.handleMouseDown.bind(this)); window.addEventListener(&#39;pagehide&#39;, this.handlePageHide.bind(this)); } run() { // 运行方法 this.running = true; if (this.booms.length === 0) { return this.running = false; } requestAnimationFrame(this.run.bind(this)); this.computerContext.clearRect(0, 0, this.globalWidth, this.globalHeight); this.renderContext.clearRect(0, 0, this.globalWidth, this.globalHeight); this.booms.forEach((boom, index) =&gt; { if (boom.stop) { return this.booms.splice(index, 1); } boom.move(); boom.draw(); }); this.renderContext.drawImage(this.computerCanvas, 0, 0, this.globalWidth, this.globalHeight); } } const cursorSpecialEffects = new CursorSpecialEffects(); cursorSpecialEffects.init(); EOF 2 、Sun-Panel个性化设置&ndash;自定义页脚，粘贴以下内容 1 &lt;script src=&#34;/custom/dianji.js&#34;&gt;&lt;/script&gt; 五 、点击特效-烟花 点击烟花效果js插件地址：https://github.com/hslr-s/sun-panel-js-plugins/tree/master/clickFireworksEffects 1 、创建yanhua.js文件 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 touch /mnt/mydisk/home/sun-panel/config/custom/index.js &amp;&amp; cat &gt; /mnt/mydisk/home/sun-panel/config/custom/yanhua.js &lt;&lt;&#39;EOF&#39; function clickFireworksEffects() { let balls = []; let longPressed = false; let longPress; let multiplier = 0; let width, height; let origin; let normal; let ctx; const colours = [&#34;#F73859&#34;, &#34;#14FFEC&#34;, &#34;#00E0FF&#34;, &#34;#FF99FE&#34;, &#34;#FAF15D&#34;]; const canvas = document.createElement(&#34;canvas&#34;); document.body.appendChild(canvas); canvas.setAttribute(&#34;style&#34;, &#34;width: 100%; height: 100%; top: 0; left: 0; z-index: 99999; position: fixed; pointer-events: none;&#34;); const pointer = document.createElement(&#34;span&#34;); pointer.classList.add(&#34;pointer&#34;); document.body.appendChild(pointer); if (canvas.getContext &amp;&amp; window.addEventListener) { ctx = canvas.getContext(&#34;2d&#34;); updateSize(); window.addEventListener(&#39;resize&#39;, updateSize, false); loop(); window.addEventListener(&#34;mousedown&#34;, function(e) { pushBalls(randBetween(10, 20), e.clientX, e.clientY); document.body.classList.add(&#34;is-pressed&#34;); longPress = setTimeout(function(){ document.body.classList.add(&#34;is-longpress&#34;); longPressed = true; }, 500); }, false); window.addEventListener(&#34;mouseup&#34;, function(e) { clearInterval(longPress); if (longPressed == true) { document.body.classList.remove(&#34;is-longpress&#34;); pushBalls(randBetween(50 + Math.ceil(multiplier), 100 + Math.ceil(multiplier)), e.clientX, e.clientY); longPressed = false; } document.body.classList.remove(&#34;is-pressed&#34;); }, false); window.addEventListener(&#34;mousemove&#34;, function(e) { let x = e.clientX; let y = e.clientY; pointer.style.top = y + &#34;px&#34;; pointer.style.left = x + &#34;px&#34;; }, false); } else { console.log(&#34;canvas or addEventListener is unsupported!&#34;); } function updateSize() { canvas.width = window.innerWidth * 2; canvas.height = window.innerHeight * 2; canvas.style.width = window.innerWidth + &#39;px&#39;; canvas.style.height = window.innerHeight + &#39;px&#39;; ctx.scale(2, 2); width = (canvas.width = window.innerWidth); height = (canvas.height = window.innerHeight); origin = { x: width / 2, y: height / 2 }; normal = { x: width / 2, y: height / 2 }; } class Ball { constructor(x = origin.x, y = origin.y) { this.x = x; this.y = y; this.angle = Math.PI * 2 * Math.random(); if (longPressed == true) { this.multiplier = randBetween(14 + multiplier, 15 + multiplier); } else { this.multiplier = randBetween(6, 12); } this.vx = (this.multiplier + Math.random() * 0.5) * Math.cos(this.angle); this.vy = (this.multiplier + Math.random() * 0.5) * Math.sin(this.angle); this.r = randBetween(8, 12) + 3 * Math.random(); this.color = colours[Math.floor(Math.random() * colours.length)]; } update() { this.x += this.vx - normal.x; this.y += this.vy - normal.y; normal.x = -2 / window.innerWidth * Math.sin(this.angle); normal.y = -2 / window.innerHeight * Math.cos(this.angle); this.r -= 0.3; this.vx *= 0.9; this.vy *= 0.9; } } function pushBalls(count = 1, x = origin.x, y = origin.y) { for (let i = 0; i &lt; count; i++) { balls.push(new Ball(x, y)); } } function randBetween(min, max) { return Math.floor(Math.random() * max) + min; } function loop() { ctx.fillStyle = &#34;rgba(255, 255, 255, 0)&#34;; ctx.clearRect(0, 0, canvas.width, canvas.height); for (let i = 0; i &lt; balls.length; i++) { let b = balls[i]; if (b.r &lt; 0) continue; ctx.fillStyle = b.color; ctx.beginPath(); ctx.arc(b.x, b.y, b.r, 0, Math.PI * 2, false); ctx.fill(); b.update(); } if (longPressed == true) { multiplier += 0.2; } else if (!longPressed &amp;&amp; multiplier &gt;= 0) { multiplier -= 0.4; } removeBall(); requestAnimationFrame(loop); } function removeBall() { for (let i = 0; i &lt; balls.length; i++) { let b = balls[i]; if (b.x + b.r &lt; 0 || b.x - b.r &gt; width || b.y + b.r &lt; 0 || b.y - b.r &gt; height || b.r &lt; 0) { balls.splice(i, 1); } } } } clickFireworksEffects();//调用特效函数 EOF 2 、Sun-Panel个性化设置&ndash;自定义页脚，粘贴以下内容 1 &lt;script src=&#34;/custom/yanhua.js&#34;&gt;&lt;/script&gt; 浏览器清空缓存，刷新后见效果 ">
<meta property='og:url' content='https://meimolihan.github.io/p/sun-panel-js%E6%BA%90%E7%A0%81/'>
<meta property='og:site_name' content='凡凡小站'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='sun-panel' /><meta property='article:published_time' content='2025-02-04T17:15:07&#43;08:00'/><meta property='article:modified_time' content='2025-02-15T00:35:50&#43;08:00'/><meta property='og:image' content='https://cdn.jsdelivr.net/gh/meimolihan/file@v1.0.0/img/sun-panel.jpg' />
<meta name="twitter:title" content="Sun Panel Js源码">
<meta name="twitter:description" content=" Sun-Panel-js源码 插件集地址：https://github.com/hslr-s/sun-panel-js-plugins\nSun-Panel：https://doc.sun-panel.top/zh_cn\n一 、显示概览快速跳转&ndash;服务器主机shell输入以下命令 1 、创建js文件 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 289 290 291 292 293 294 295 296 297 298 299 300 301 302 303 304 305 306 307 308 309 310 311 312 313 314 315 316 317 318 319 320 321 322 323 324 325 326 327 328 329 touch /mnt/mydisk/home/sun-panel/config/custom/index.js &amp;&amp; cat &gt; /mnt/mydisk/home/sun-panel/config/custom/index.js &lt;&lt;&#39;EOF&#39; (function () { // =========== Config Start =========== // ------------------------------------ // 距离滚动偏移量 const scrollOffset = 80 // 显示风格( auto:自动(默认) | mobile:左上角显示触发按钮-移动端风格 | sidebar:常态显示侧栏) const displayStyle = &#39;auto&#39; // 移动端宽度定义 const mobileWidth = 800 const SunPanelTOCDomIdName = &#39;sun-panel-toc-dom&#39; // 左上角按钮 SVG 图标 const svgTocMobileBtn = &#39;&lt;svg xmlns=&#34;http://www.w3.org/2000/svg&#34; viewBox=&#34;0 0 24 24&#34;&gt;&lt;path fill=&#34;currentColor&#34; d=&#34;M17.5 4.5c-1.95 0-4.05.4-5.5 1.5c-1.45-1.1-3.55-1.5-5.5-1.5c-1.45 0-2.99.22-4.28.79C1.49 5.62 1 6.33 1 7.14v11.28c0 1.3 1.22 2.26 2.48 1.94c.98-.25 2.02-.36 3.02-.36c1.56 0 3.22.26 4.56.92c.6.3 1.28.3 1.87 0c1.34-.67 3-.92 4.56-.92c1 0 2.04.11 3.02.36c1.26.33 2.48-.63 2.48-1.94V7.14c0-.81-.49-1.52-1.22-1.85c-1.28-.57-2.82-.79-4.27-.79M21 17.23c0 .63-.58 1.09-1.2.98c-.75-.14-1.53-.2-2.3-.2c-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5c.92 0 1.83.09 2.7.28c.46.1.8.51.8.98z&#34;/&gt;&lt;path fill=&#34;currentColor&#34; d=&#34;M13.98 11.01c-.32 0-.61-.2-.71-.52c-.13-.39.09-.82.48-.94c1.54-.5 3.53-.66 5.36-.45c.41.05.71.42.66.83s-.42.71-.83.66c-1.62-.19-3.39-.04-4.73.39c-.08.01-.16.03-.23.03m0 2.66c-.32 0-.61-.2-.71-.52c-.13-.39.09-.82.48-.94c1.53-.5 3.53-.66 5.36-.45c.41.05.71.42.66.83s-.42.71-.83.66c-1.62-.19-3.39-.04-4.73.39a1 1 0 0 1-.23.03m0 2.66c-.32 0-.61-.2-.71-.52c-.13-.39.09-.82.48-.94c1.53-.5 3.53-.66 5.36-.45c.41.05.71.42.66.83s-.42.7-.83.66c-1.62-.19-3.39-.04-4.73.39a1 1 0 0 1-.23.03&#34;/&gt;&lt;/svg&gt;&#39; // ------------------------------------ // =========== Config End =========== // 滚动容器的类名 const scrollContainerElementClassName = &#39;.scroll-container&#39; // 一些函数 const isMobile = () =&gt; { if (displayStyle === &#39;mobile&#39;) { return true } else if (displayStyle === &#39;pc&#39;) { return false } const width = window.innerWidth return width &lt; mobileWidth } function createDom() { // 检测是否已经存在TOC DOM，存在则删除 (function () { const element = document.getElementById(SunPanelTOCDomIdName) if (element) { element.remove() } })() const SunPanelTOCDom = document.createElement(&#39;div&#39;) SunPanelTOCDom.id = SunPanelTOCDomIdName document.body.appendChild(SunPanelTOCDom) // ========= Add style start ========= const style = document.createElement(&#39;style&#39;) const SunPanelTOCDomStyleId = `#${SunPanelTOCDomIdName}` style.textContent = ` ${SunPanelTOCDomStyleId} #toc-mobile-btn { top: 20px !important; left: 20px !important; position: fixed; width: 46px; height: 46px; background-color: #2a2a2a6b; color: white; border-radius: 0.5rem; display: flex; justify-content: center; align-items: center; cursor: pointer; } ${SunPanelTOCDomStyleId} .hidden { display: none !important; } ${SunPanelTOCDomStyleId} #toc-sidebar { width: 40px; padding: 10px; position: fixed; top: 0; left: 0; height: 100%; overflow: hidden; display: flex; flex-direction: column; justify-content: center; transition: width 0.3s ease, background-color 0.3s ease; border-top-right-radius: 20px; border-bottom-right-radius: 20px; background-color: none; } ${SunPanelTOCDomStyleId} .toc-mobile-btn-svg-container{ width:21px; height:21px; } ${SunPanelTOCDomStyleId} .toc-sidebar-expansion { width: 200px !important; display: flex; background-color: rgb(42 42 42 / 90%); box-shadow: 2px 0 5px rgba(0, 0, 0, 0.2); } ${SunPanelTOCDomStyleId} #toc-sidebar .toc-sidebar-box { width: 500px; } ${SunPanelTOCDomStyleId} .title-bar-box { display: flex; align-items: center; position: relative; cursor: pointer; } ${SunPanelTOCDomStyleId} .title-bar-slip { width: 20px; height: 6px; background-color: white; border-radius: 4px; margin: 15px 0; transition: height 0.3s ease, width 0.3s ease; box-shadow: 2px 0 5px rgba(0, 0, 0, 0.5); } ${SunPanelTOCDomStyleId} .title-bar-title { opacity: 0; white-space: nowrap; transition: opacity 0.3s ease, transform 0.3s ease, margin-left 0.3s ease; font-size: 14px; color: white; } ${SunPanelTOCDomStyleId} .toc-sidebar-expansion .title-bar-title { opacity: 1; margin-left: 10px; } ${SunPanelTOCDomStyleId} .toc-sidebar-expansion .title-bar-slip { box-shadow: none; } ${SunPanelTOCDomStyleId} .toc-sidebar-expansion .title-bar-box:hover .title-bar-slip { width: 40px; } ${SunPanelTOCDomStyleId} .toc-sidebar-expansion .title-bar-box:hover .title-bar-title { font-size: 20px; } ` // 添加样式到文档头部 SunPanelTOCDom.appendChild(style) // ========= Add style end ========= // 添加移动端菜单按钮 const tocMobileBtn = document.createElement(&#39;div&#39;) tocMobileBtn.id = &#39;toc-mobile-btn&#39; tocMobileBtn.classList.add(&#39;backdrop-blur-[2px]&#39;) SunPanelTOCDom.appendChild(tocMobileBtn) const tocMobileBtnSvgcContainer = document.createElement(&#39;div&#39;) tocMobileBtnSvgcContainer.innerHTML = svgTocMobileBtn tocMobileBtnSvgcContainer.classList.add(&#39;toc-mobile-btn-svg-container&#39;) tocMobileBtn.appendChild(tocMobileBtnSvgcContainer) // 创建侧边栏容器 const sidebar = document.createElement(&#39;div&#39;) sidebar.id = &#39;toc-sidebar&#39; const sidebarBox = document.createElement(&#39;div&#39;) sidebarBox.className = &#39;toc-sidebar-box&#39; // 查询出所有类名包含 item-group-index- 的元素 const items = document.querySelectorAll(&#39;[class*=&#34;item-group-index-&#34;]&#39;) // 遍历并打印每个元素的完整类名 items.forEach((item) =&gt; { item.classList.forEach((className) =&gt; { if (className.startsWith(&#39;item-group-index-&#39;)) { const titleBarBox = document.createElement(&#39;div&#39;) titleBarBox.className = &#39;title-bar-box&#39; // titleBarBox.href = `#${item.id}` titleBarBox.dataset.groupClassName = className // 目录条 const titleBarSlip = document.createElement(&#39;div&#39;) titleBarSlip.className = &#39;title-bar-slip&#39; // 创建一个链接 const titleBarTitle = document.createElement(&#39;div&#39;) titleBarTitle.className = &#39;title-bar-title&#39; // 获取子元素中 class=&#34;group-title&#34; 的内容 const titleElement = item.querySelector(&#39;.group-title&#39;) const titleText = titleElement ? titleElement.textContent : item.id titleBarTitle.textContent = titleText titleBarBox.appendChild(titleBarSlip) titleBarBox.appendChild(titleBarTitle) sidebarBox.appendChild(titleBarBox) } }) }) sidebar.appendChild(sidebarBox) // 将侧边栏添加到页面中 SunPanelTOCDom.appendChild(sidebar) function mobileHideSidebar() { sidebar.classList.remove(&#39;toc-sidebar-expansion&#39;) sidebar.classList.add(&#39;hidden&#39;) } function hideSidebar() { sidebar.classList.remove(&#39;toc-sidebar-expansion&#39;) } function showSidebar() { sidebar.classList.add(&#39;toc-sidebar-expansion&#39;) sidebar.classList.remove(&#39;hidden&#39;) } // ---------------- // 监听宽度变化开始 // ---------------- function debounce(func, wait) { let timeout return function (...args) { clearTimeout(timeout) timeout = setTimeout(() =&gt; { func.apply(this, args) }, wait) } } function handleResize() { if (isMobile()) { tocMobileBtn.classList.remove(&#39;hidden&#39;) sidebar.classList.add(&#39;hidden&#39;) } else { tocMobileBtn.classList.add(&#39;hidden&#39;) sidebar.classList.remove(&#39;hidden&#39;) } } // 使用防抖函数包装你的处理函数 const debouncedHandleResize = debounce(handleResize, 200) // 添加事件监听器 window.addEventListener(&#39;resize&#39;, debouncedHandleResize) // 首次触发 handleResize() // ---------------- // 监听宽度变化结束 // ---------------- // 监听移动端按钮点击 tocMobileBtn.addEventListener(&#39;click&#39;, () =&gt; { if (sidebar.classList.contains(&#39;toc-sidebar-expansion&#39;)) { // 隐藏 mobileHideSidebar() } else { // 显示 showSidebar() } }) // 监听TOC栏失去hover sidebar.addEventListener(&#39;mouseleave&#39;, () =&gt; { if (isMobile()) { // 隐藏 mobileHideSidebar() } else { hideSidebar() } }) // 监听TOC栏获得hover sidebar.addEventListener(&#39;mouseenter&#39;, () =&gt; { showSidebar() }) // 监听TOC点击事件 document.querySelectorAll(&#39;.title-bar-box&#39;).forEach((box) =&gt; { box.addEventListener(&#39;click&#39;, function (event) { // 检查触发事件的元素是否有 &#39;data-groupClassName&#39; 属性 if (this.dataset.groupClassName) { // 获取 &#39;data-groupClass&#39; 属性的值 const groupClassName = this.dataset.groupClassName // 使用属性值作为选择器查询对应的元素 const targetElement = document.querySelector(`.${groupClassName}`) if (targetElement) { // 获取目标元素的 &#39;top&#39; 坐标 const targetTop = targetElement.offsetTop const scrollContainerElement = document.querySelector(scrollContainerElementClassName) if (scrollContainerElement) { scrollContainerElement.scrollTo({ top: targetTop - scrollOffset, behavior: &#39;smooth&#39;, // 平滑滚动 }) } } } }) }) } // 判断是否已经存在分组，不存在将定时监听 const items = document.querySelectorAll(&#39;[class*=&#34;item-group-index-&#34;]&#39;) if (items.length &gt; 0) { createDom() return } const interval = setInterval(() =&gt; { const items = document.querySelectorAll(&#39;[class*=&#34;item-group-index-&#34;]&#39;) if (items.length &gt; 0) { createDom() clearInterval(interval) } }, 1000) })() EOF 2 、Sun-Panel个性化设置&ndash;自定义页脚，粘贴以下内容 1 &lt;script src=&#34;/custom/index.js&#34;&gt;&lt;/script&gt; 二 、页面雪花特效 1 、创建xuehua.js文件 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 touch /mnt/mydisk/home/sun-panel/config/custom/xuehua.js &amp;&amp; cat &gt; /mnt/mydisk/home/sun-panel/config/custom/xuehua.js &lt;&lt;&#39;EOF&#39; function snow() { // 1、定义一片雪花模板 var flake = document.createElement(&#39;div&#39;); // 定义雪花字符 ❄❉❅❆✻✼❇❈❊✥✺ flake.innerHTML = &#39;❄&#39;; flake.style.cssText = &#39;position:absolute;color:#fff;&#39;; //获取页面的高度 相当于雪花下落结束时Y轴的位置 var documentHieght = window.innerHeight; //获取页面的宽度，利用这个数来算出，雪花开始时left的值 var documentWidth = window.innerWidth; //定义生成一片雪花的毫秒数，不建议低于100 var millisec =200; //2、设置第一个定时器，周期性定时器，每隔一段时间（millisec）生成一片雪花； setInterval(function() { //页面加载之后，定时器就开始工作 //随机生成雪花下落 开始 时left的值，相当于开始时X轴的位置 var startLeft = Math.random() * documentWidth; //随机生成雪花下落 结束 时left的值，相当于结束时X轴的位置 var endLeft = Math.random() * documentWidth; //随机生成雪花大小 var flakeSize = 3 + 20 * Math.random(); //随机生成雪花下落持续时间，时间越大下落越慢 var durationTime = 6000 + 10000 * Math.random(); //随机生成雪花下落 开始 时的透明度 var startOpacity = 0.7 + 0.3 * Math.random(); //随机生成雪花下落 结束 时的透明度 var endOpacity = 0.2 + 0.2 * Math.random(); //克隆一个雪花模板 var cloneFlake = flake.cloneNode(true); //第一次修改样式，定义克隆出来的雪花的样式 cloneFlake.style.cssText += ` left: ${startLeft}px; opacity: ${startOpacity}; font-size:${flakeSize}px; top:-25px; transition:${durationTime}ms;`; //拼接到页面中 document.body.appendChild(cloneFlake); //设置第二个定时器，一次性定时器， //当第一个定时器生成雪花，并在页面上渲染出来后，修改雪花的样式，让雪花动起来； setTimeout(function() { //第二次修改样式 cloneFlake.style.cssText += ` left: ${endLeft}px; top:${documentHieght}px; opacity:${endOpacity};`; //4、设置第三个定时器，当雪花落下后，删除雪花。 setTimeout(function() { cloneFlake.remove(); }, durationTime); }, 0); }, millisec); } snow(); EOF 2 、Sun-Panel个性化设置&ndash;自定义页脚，粘贴以下内容 1 &lt;script src=&#34;/custom/xuehua.js&#34;&gt;&lt;/script&gt; 三 、mp4视频壁纸 1 、创建js文件 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 touch /mnt/mydisk/home/sun-panel/config/custom/mp4.js &amp;&amp; cat &gt; /mnt/mydisk/home/sun-panel/config/custom/mp4.js &lt;&lt;&#39;EOF&#39; document.addEventListener(&#39;DOMContentLoaded&#39;, (event) =&gt; { // 用于添加视频背景的函数 const addVideoBackground = (wallpaperDiv) =&gt; { // 创建video元素 const video = document.createElement(&#39;video&#39;); // 设置视频属性 video.autoplay = true; // 使用属性而不是setAttribute，因为autoplay是一个布尔属性 video.loop = true; video.muted = true; video.playsInline = true; // 注意这里是驼峰式写法，但在HTML中应使用playsinline // 应用CSS样式到video元素 video.style.position = &#39;absolute&#39;; video.style.top = &#39;0&#39;; video.style.left = &#39;0&#39;; video.style.width = &#39;100%&#39;; video.style.height = &#39;100%&#39;; video.style.objectFit = &#39;cover&#39;; // 定义多个视频源 const videoSources = [ &#39;/uploads/%E5%8A%A8%E6%80%81%E5%A3%81%E7%BA%B8-01.mp4&#39;, &#39;/uploads/%E5%8A%A8%E6%80%81%E5%A3%81%E7%BA%B8-02.mp4&#39;, &#39;/uploads/%E5%8A%A8%E6%80%81%E5%A3%81%E7%BA%B8-03.mp4&#39;, &#39;/uploads/%E5%8A%A8%E6%80%81%E5%A3%81%E7%BA%B8-04.mp4&#39;, &#39;/uploads/%E5%8A%A8%E6%80%81%E5%A3%81%E7%BA%B8-05.mp4&#39;, // &#39;/uploads/%E5%8A%A8%E6%80%81%E5%A3%81%E7%BA%B8-06.mp4&#39;, // &#39;/uploads/%E5%8A%A8%E6%80%81%E5%A3%81%E7%BA%B8-07.mp4&#39;, // &#39;/uploads/%E5%8A%A8%E6%80%81%E5%A3%81%E7%BA%B8-08.mp4&#39;, // &#39;/uploads/%E5%8A%A8%E6%80%81%E5%A3%81%E7%BA%B8-09.mp4&#39; // 在这里可以添加更多的视频源 ]; // 从视频源数组中随机选择一个 const randomSource = videoSources[Math.floor(Math.random() * videoSources.length)]; // 创建source元素并设置随机选择的视频源 const source = document.createElement(&#39;source&#39;); source.src = randomSource; source.type = &#39;video/mp4&#39;; // 将source元素添加到video元素中 video.appendChild(source); // 监听视频加载元数据事件，尝试播放视频 video.addEventListener(&#39;loadedmetadata&#39;, () =&gt; { video.play().catch((error) =&gt; { // 如果播放失败，可以在这里处理错误，例如显示一个备用图片或消息 console.error(&#39;视频播放失败:&#39;, error); }); }); // 将video元素添加到指定的wallpaperDiv中 wallpaperDiv.appendChild(video); }; // 使用MutationObserver监视DOM变化 const observer = new MutationObserver((mutationsList, observer) =&gt; { // 查找匹配的.cover.wallpaper元素 const wallpaperDiv = document.querySelector(&#39;.cover.wallpaper&#39;); if (wallpaperDiv &amp;&amp; !wallpaperDiv.querySelector(&#39;video&#39;)) { // 添加视频背景 addVideoBackground(wallpaperDiv); // 注意：我们不再断开观察者，以便它能够继续监视未来的变化 } }); // 启动观察者监视document.body的变化 observer.observe(document.body, { childList: true, subtree: true }); }); EOF 2 、Sun-Panel个性化设置&ndash;自定义页脚，粘贴以下内容 1 &lt;script src=&#34;/custom/mp4.js&#34;&gt;&lt;/script&gt; 四 、点击特效-散开 1 、创建js文件 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 touch /mnt/mydisk/home/sun-panel/config/custom/dianji.js &amp;&amp; cat &gt; /mnt/mydisk/home/sun-panel/config/custom/dianji.js &lt;&lt;&#39;EOF&#39; class Circle { constructor({ origin, speed, color, angle, context }) { this.origin = origin; // 初始位置 this.position = { ...this.origin }; // 当前位置 this.color = color; // 颜色 this.speed = speed; // 速度 this.angle = angle; // 角度 this.context = context; // 绘制上下文 this.renderCount = 0; // 渲染计数 } draw() { // 绘制圆形 this.context.fillStyle = this.color; this.context.beginPath(); this.context.arc(this.position.x, this.position.y, 2, 0, Math.PI * 2); this.context.fill(); } move() { // 移动圆形 this.position.x = (Math.sin(this.angle) * this.speed) + this.position.x; this.position.y = (Math.cos(this.angle) * this.speed) + this.position.y + (this.renderCount * 0.3); this.renderCount++; } } class Boom { constructor({ origin, context, circleCount = 10, area }) { this.origin = origin; // 初始位置 this.context = context; // 绘制上下文 this.circleCount = circleCount; // 圆形数量 this.area = area; // 区域 this.stop = false; // 停止标志 this.circles = []; // 圆形数组 } randomArray(range) { // 从数组中随机取值 const length = range.length; const randomIndex = Math.floor(length * Math.random()); return range[randomIndex]; } randomColor() { // 随机生成颜色 const range = [&#39;8&#39;, &#39;9&#39;, &#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39;]; return &#39;#&#39; + this.randomArray(range) + this.randomArray(range) + this.randomArray(range) + this.randomArray(range) + this.randomArray(range) + this.randomArray(range); } randomRange(start, end) { // 在范围内生成随机数 return (end - start) * Math.random() + start; } init() { // 初始化Boom对象 for (let i = 0; i &lt; this.circleCount; i++) { const circle = new Circle({ context: this.context, origin: this.origin, color: this.randomColor(), angle: this.randomRange(Math.PI - 1, Math.PI + 1), speed: this.randomRange(1, 6) }); this.circles.push(circle); } } move() { // 移动所有圆形，并检测是否超出区域 this.circles.forEach((circle, index) =&gt; { if (circle.position.x &gt; this.area.width || circle.position.y &gt; this.area.height) { return this.circles.splice(index, 1); } circle.move(); }); if (this.circles.length === 0) { this.stop = true; } } draw() { // 绘制所有圆形 this.circles.forEach(circle =&gt; circle.draw()); } } class CursorSpecialEffects { constructor() { // 鼠标特效主类 this.computerCanvas = document.createElement(&#39;canvas&#39;); // 计算用Canvas this.renderCanvas = document.createElement(&#39;canvas&#39;); // 渲染用Canvas this.computerContext = this.computerCanvas.getContext(&#39;2d&#39;); // 计算用上下文 this.renderContext = this.renderCanvas.getContext(&#39;2d&#39;); // 渲染用上下文 this.globalWidth = window.innerWidth; // 全局宽度 this.globalHeight = window.innerHeight; // 全局高度 this.booms = []; // Boom对象数组 this.running = false; // 运行标志 } handleMouseDown(e) { // 处理鼠标点击事件 const boom = new Boom({ origin: { x: e.clientX, y: e.clientY }, context: this.computerContext, area: { width: this.globalWidth, height: this.globalHeight } }); boom.init(); this.booms.push(boom); this.running || this.run(); } handlePageHide() { // 处理页面隐藏事件 this.booms = []; this.running = false; } init() { // 初始化方法 const style = this.renderCanvas.style; style.position = &#39;fixed&#39;; style.top = style.left = 0; style.zIndex = &#39;999999999999999999999999999999999999999999&#39;; style.pointerEvents = &#39;none&#39;; style.width = this.renderCanvas.width = this.computerCanvas.width = this.globalWidth; style.height = this.renderCanvas.height = this.computerCanvas.height = this.globalHeight; document.body.append(this.renderCanvas); window.addEventListener(&#39;mousedown&#39;, this.handleMouseDown.bind(this)); window.addEventListener(&#39;pagehide&#39;, this.handlePageHide.bind(this)); } run() { // 运行方法 this.running = true; if (this.booms.length === 0) { return this.running = false; } requestAnimationFrame(this.run.bind(this)); this.computerContext.clearRect(0, 0, this.globalWidth, this.globalHeight); this.renderContext.clearRect(0, 0, this.globalWidth, this.globalHeight); this.booms.forEach((boom, index) =&gt; { if (boom.stop) { return this.booms.splice(index, 1); } boom.move(); boom.draw(); }); this.renderContext.drawImage(this.computerCanvas, 0, 0, this.globalWidth, this.globalHeight); } } const cursorSpecialEffects = new CursorSpecialEffects(); cursorSpecialEffects.init(); EOF 2 、Sun-Panel个性化设置&ndash;自定义页脚，粘贴以下内容 1 &lt;script src=&#34;/custom/dianji.js&#34;&gt;&lt;/script&gt; 五 、点击特效-烟花 点击烟花效果js插件地址：https://github.com/hslr-s/sun-panel-js-plugins/tree/master/clickFireworksEffects 1 、创建yanhua.js文件 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 touch /mnt/mydisk/home/sun-panel/config/custom/index.js &amp;&amp; cat &gt; /mnt/mydisk/home/sun-panel/config/custom/yanhua.js &lt;&lt;&#39;EOF&#39; function clickFireworksEffects() { let balls = []; let longPressed = false; let longPress; let multiplier = 0; let width, height; let origin; let normal; let ctx; const colours = [&#34;#F73859&#34;, &#34;#14FFEC&#34;, &#34;#00E0FF&#34;, &#34;#FF99FE&#34;, &#34;#FAF15D&#34;]; const canvas = document.createElement(&#34;canvas&#34;); document.body.appendChild(canvas); canvas.setAttribute(&#34;style&#34;, &#34;width: 100%; height: 100%; top: 0; left: 0; z-index: 99999; position: fixed; pointer-events: none;&#34;); const pointer = document.createElement(&#34;span&#34;); pointer.classList.add(&#34;pointer&#34;); document.body.appendChild(pointer); if (canvas.getContext &amp;&amp; window.addEventListener) { ctx = canvas.getContext(&#34;2d&#34;); updateSize(); window.addEventListener(&#39;resize&#39;, updateSize, false); loop(); window.addEventListener(&#34;mousedown&#34;, function(e) { pushBalls(randBetween(10, 20), e.clientX, e.clientY); document.body.classList.add(&#34;is-pressed&#34;); longPress = setTimeout(function(){ document.body.classList.add(&#34;is-longpress&#34;); longPressed = true; }, 500); }, false); window.addEventListener(&#34;mouseup&#34;, function(e) { clearInterval(longPress); if (longPressed == true) { document.body.classList.remove(&#34;is-longpress&#34;); pushBalls(randBetween(50 + Math.ceil(multiplier), 100 + Math.ceil(multiplier)), e.clientX, e.clientY); longPressed = false; } document.body.classList.remove(&#34;is-pressed&#34;); }, false); window.addEventListener(&#34;mousemove&#34;, function(e) { let x = e.clientX; let y = e.clientY; pointer.style.top = y + &#34;px&#34;; pointer.style.left = x + &#34;px&#34;; }, false); } else { console.log(&#34;canvas or addEventListener is unsupported!&#34;); } function updateSize() { canvas.width = window.innerWidth * 2; canvas.height = window.innerHeight * 2; canvas.style.width = window.innerWidth + &#39;px&#39;; canvas.style.height = window.innerHeight + &#39;px&#39;; ctx.scale(2, 2); width = (canvas.width = window.innerWidth); height = (canvas.height = window.innerHeight); origin = { x: width / 2, y: height / 2 }; normal = { x: width / 2, y: height / 2 }; } class Ball { constructor(x = origin.x, y = origin.y) { this.x = x; this.y = y; this.angle = Math.PI * 2 * Math.random(); if (longPressed == true) { this.multiplier = randBetween(14 + multiplier, 15 + multiplier); } else { this.multiplier = randBetween(6, 12); } this.vx = (this.multiplier + Math.random() * 0.5) * Math.cos(this.angle); this.vy = (this.multiplier + Math.random() * 0.5) * Math.sin(this.angle); this.r = randBetween(8, 12) + 3 * Math.random(); this.color = colours[Math.floor(Math.random() * colours.length)]; } update() { this.x += this.vx - normal.x; this.y += this.vy - normal.y; normal.x = -2 / window.innerWidth * Math.sin(this.angle); normal.y = -2 / window.innerHeight * Math.cos(this.angle); this.r -= 0.3; this.vx *= 0.9; this.vy *= 0.9; } } function pushBalls(count = 1, x = origin.x, y = origin.y) { for (let i = 0; i &lt; count; i++) { balls.push(new Ball(x, y)); } } function randBetween(min, max) { return Math.floor(Math.random() * max) + min; } function loop() { ctx.fillStyle = &#34;rgba(255, 255, 255, 0)&#34;; ctx.clearRect(0, 0, canvas.width, canvas.height); for (let i = 0; i &lt; balls.length; i++) { let b = balls[i]; if (b.r &lt; 0) continue; ctx.fillStyle = b.color; ctx.beginPath(); ctx.arc(b.x, b.y, b.r, 0, Math.PI * 2, false); ctx.fill(); b.update(); } if (longPressed == true) { multiplier += 0.2; } else if (!longPressed &amp;&amp; multiplier &gt;= 0) { multiplier -= 0.4; } removeBall(); requestAnimationFrame(loop); } function removeBall() { for (let i = 0; i &lt; balls.length; i++) { let b = balls[i]; if (b.x + b.r &lt; 0 || b.x - b.r &gt; width || b.y + b.r &lt; 0 || b.y - b.r &gt; height || b.r &lt; 0) { balls.splice(i, 1); } } } } clickFireworksEffects();//调用特效函数 EOF 2 、Sun-Panel个性化设置&ndash;自定义页脚，粘贴以下内容 1 &lt;script src=&#34;/custom/yanhua.js&#34;&gt;&lt;/script&gt; 浏览器清空缓存，刷新后见效果 "><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://cdn.jsdelivr.net/gh/meimolihan/file@v1.0.0/img/sun-panel.jpg' />
    <link rel="shortcut icon" href="/favicon.ico" />
<style>
    :root {
         
        --sys-font-family: "HarmonyOS_Sans_SC_Medium", Georgia, -apple-system, 'Nimbus Roman No9 L', 'PingFang SC', 'Hiragino Sans GB', 'Noto Serif SC', 'Microsoft Yahei', 'WenQuanYi Micro Hei', 'ST Heiti', sans-serif;
        --code-font-family: "JetBrainsMono Regular", Menlo, Monaco, Consolas, "Courier New";
        --article-font-family: "HarmonyOS_Sans_SC_Medium", var(--base-font-family);
    }
</style>

<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://img.shimoko.com/fonts/font.css";
        customFont.type = "text/css";
        customFont.rel = "stylesheet";
        document.head.appendChild(customFont);
    }());
</script>

<div class="loading">
    <div class="sharingon">
        <div class="ring">
            <div class="to"></div>
            <div class="to"></div>
            <div class="to"></div>
            <div class="circle"></div>
        </div>
    </div>
</div>

<style>
    .loading {
        position: fixed;
        display: flex;
        justify-content: center;
        align-items: center;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 99;
        zoom: 3.0;
        background-color: #f5f5fa;
    }
	
    .animated-stop {
        animation-play-state: paused !important;
    }
	
    .scaleAndFadeout {
        animation: scaleAndFadeOut 1.5s forwards;
    }
	
     
    @keyframes scaleAndFadeOut {
        0% {
            transform: scale(1);
            opacity: 1;
        }
        100% {
            transform: scale(1.5);
            opacity: 0;
        }
    }

     
    .sharingon {
        position: relative;
        width: 6em;
        height: 6em;
        background-color: red;
        border: 6px solid black;
        animation: rot 1s ease-in-out infinite;
    }

    .ring {
        position: absolute;
        content: "";
        left: 50%;
        top: 50%;
        width: 3.5em;
        height: 3.5em;
        border: 4px solid rgb(110, 13 ,13 ,0.5);
        transform: translate(-50%,-50%);
    }

    .sharingon, .ring, .to,.circle {
        border-radius: 50%;
    }

    .to,.circle {
        position: absolute;
        content: "";
        width: 0.9em;
        height: 0.9em;
        background-color: black;
    }

    .to:nth-child(1) {
        top: -0.5em;
        left: 50%;
        transform: translate(-40%);
    }

    .to::before {
        content: "";
        position: absolute;
        top: -0.5em;
        right: -0.2em;
        width: 1.1em;
        height: 0.9em;
        box-sizing: border-box;
        border-left: 16px solid black;
        border-radius: 100% 0 0;
    }

    .to:nth-child(2) {
        bottom: 0.5em;
        left: -0.35em;
        transform: rotate(-120deg);
    }

    .to:nth-child(3) {
        bottom: 0.5em;
        right: -0.35em;
        transform: rotate(120deg);
    }

    .circle {
        top: 50%;
        left: 50%;
        transform: translate(-50%,-50%);
        box-shadow: 0 0 20px 1px;
        width: 1em;
        height: 1em;
    }

    @keyframes rot {
        0% {
            transform: rotate(0deg);
        }

        100% {
            transform: rotate(360deg);
        }
    }
</style>

<script>	
    function initLoading() {
        let loading = document.querySelector(".loading");
        document.addEventListener('DOMContentLoaded', function() {
            
            
            loadFinish();
            
            setTimeout(() => {
                loading.style.display = "none";
            }, 1500)
        });
    }
	
    function loadFinish() {
        
        let sharingon= document.querySelector(".sharingon");
        sharingon.classList.add("animated-stop")
        
        let loading = document.querySelector(".loading");
        loading.classList.add("scaleAndFadeout")
    }
	
    initLoading();
</script>


    </head>
    <body class="
    article-page
    ">
        
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "dark");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="切换菜单">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/mobufan_hu_7131b9322511f948.gif" width="300"
                            height="247" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">😉</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">凡凡小站</a></h1>
            <h2 class="site-description"></h2>
        </div>
    </header><ol class="menu-social">
            
                <li>
                    <a 
                        href='https://space.bilibili.com/35158479'
                        target="_blank"
                        title="Bilibili"
                        rel="me"
                    >
                        
                        
                            <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-brand-bilibili"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 10a4 4 0 0 1 4 -4h10a4 4 0 0 1 4 4v6a4 4 0 0 1 -4 4h-10a4 4 0 0 1 -4 -4v-6z" /><path d="M8 3l2 3" /><path d="M16 3l-2 3" /><path d="M9 13v-2" /><path d="M15 11v2" /></svg>
                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://github.com/meimolihan'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>主页</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>归档</span>
            </a>
        </li>
        
        
        <li >
            <a href='/tags/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-tag" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11 3L20 12a1.5 1.5 0 0 1 0 2L14 20a1.5 1.5 0 0 1 -2 0L3 11v-4a4 4 0 0 1 4 -4h4" />
  <circle cx="9" cy="9" r="2" />
</svg>



                
                <span>标签</span>
            </a>
        </li>
        
        
        <li >
            <a href='/categories/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



                
                <span>分类</span>
            </a>
        </li>
        
        
        <li >
            <a href='/%E5%8F%8B%E9%93%BE/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>友链</span>
            </a>
        </li>
        
        
        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>搜索</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>暗色模式</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">目录</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ul>
    <li><a href="#一-显示概览快速跳转--服务器主机shell输入以下命令">一 、显示概览快速跳转&ndash;服务器主机shell输入以下命令</a>
      <ul>
        <li><a href="#1-创建js文件">1 、创建js文件</a></li>
        <li><a href="#2-sun-panel个性化设置--自定义页脚粘贴以下内容">2 、Sun-Panel个性化设置&ndash;自定义页脚，粘贴以下内容</a></li>
      </ul>
    </li>
    <li><a href="#二-页面雪花特效">二 、页面雪花特效</a>
      <ul>
        <li><a href="#1-创建xuehuajs文件">1 、创建xuehua.js文件</a></li>
        <li><a href="#2-sun-panel个性化设置--自定义页脚粘贴以下内容-1">2 、Sun-Panel个性化设置&ndash;自定义页脚，粘贴以下内容</a></li>
      </ul>
    </li>
    <li><a href="#三-mp4视频壁纸">三 、mp4视频壁纸</a>
      <ul>
        <li><a href="#1-创建js文件-1">1 、创建js文件</a></li>
        <li><a href="#2-sun-panel个性化设置--自定义页脚粘贴以下内容-2">2 、Sun-Panel个性化设置&ndash;自定义页脚，粘贴以下内容</a></li>
      </ul>
    </li>
    <li><a href="#四-点击特效-散开">四 、点击特效-散开</a>
      <ul>
        <li><a href="#1-创建js文件-2">1 、创建js文件</a></li>
        <li><a href="#2-sun-panel个性化设置--自定义页脚粘贴以下内容-3">2 、Sun-Panel个性化设置&ndash;自定义页脚，粘贴以下内容</a></li>
      </ul>
    </li>
    <li><a href="#五-点击特效-烟花">五 、点击特效-烟花</a>
      <ul>
        <li><a href="#1-创建yanhuajs文件">1 、创建yanhua.js文件</a></li>
        <li><a href="#2-sun-panel个性化设置--自定义页脚粘贴以下内容-4">2 、Sun-Panel个性化设置&ndash;自定义页脚，粘贴以下内容</a></li>
      </ul>
    </li>
  </ul>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/p/sun-panel-js%E6%BA%90%E7%A0%81/">
                
                    <img src="https://cdn.jsdelivr.net/gh/meimolihan/file@v1.0.0/img/sun-panel.jpg" loading="lazy" alt="Featured image of post Sun Panel Js源码" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/" style="background-color: #2a9d8f; color: #fff;">
                默认分类
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/sun-panel-js%E6%BA%90%E7%A0%81/">Sun Panel Js源码</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">

        
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">2025-02-04</time>
            </div>
        

        <div class="article-lastmod">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time>
                    2025-02-15 00:35
                </time>
            </div>
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    阅读时长: 10 分钟
                </time>
            </div>
        

    </footer>
    

    
</div>




</header>

    <section class="article-content">
    
    
    <h1 id="center-sun-panel-js源码"><a href="#center-sun-panel-js%e6%ba%90%e7%a0%81" class="header-anchor"></a><center> Sun-Panel-js源码
</h1><p><strong>插件集地址：<a class="link" href="https://github.com/hslr-s/sun-panel-js-plugins"  target="_blank" rel="noopener"
    >https://github.com/hslr-s/sun-panel-js-plugins</a></strong><br>
<strong>Sun-Panel：<a class="link" href="https://doc.sun-panel.top/zh_cn"  target="_blank" rel="noopener"
    >https://doc.sun-panel.top/zh_cn</a></strong></p>
<h2 id="一-显示概览快速跳转--服务器主机shell输入以下命令"><a href="#%e4%b8%80-%e6%98%be%e7%a4%ba%e6%a6%82%e8%a7%88%e5%bf%ab%e9%80%9f%e8%b7%b3%e8%bd%ac--%e6%9c%8d%e5%8a%a1%e5%99%a8%e4%b8%bb%e6%9c%bashell%e8%be%93%e5%85%a5%e4%bb%a5%e4%b8%8b%e5%91%bd%e4%bb%a4" class="header-anchor"></a>一 、显示概览快速跳转&ndash;服务器主机shell输入以下命令
</h2><h3 id="1-创建js文件"><a href="#1-%e5%88%9b%e5%bb%bajs%e6%96%87%e4%bb%b6" class="header-anchor"></a>1 、创建js文件
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span><span class="lnt">159
</span><span class="lnt">160
</span><span class="lnt">161
</span><span class="lnt">162
</span><span class="lnt">163
</span><span class="lnt">164
</span><span class="lnt">165
</span><span class="lnt">166
</span><span class="lnt">167
</span><span class="lnt">168
</span><span class="lnt">169
</span><span class="lnt">170
</span><span class="lnt">171
</span><span class="lnt">172
</span><span class="lnt">173
</span><span class="lnt">174
</span><span class="lnt">175
</span><span class="lnt">176
</span><span class="lnt">177
</span><span class="lnt">178
</span><span class="lnt">179
</span><span class="lnt">180
</span><span class="lnt">181
</span><span class="lnt">182
</span><span class="lnt">183
</span><span class="lnt">184
</span><span class="lnt">185
</span><span class="lnt">186
</span><span class="lnt">187
</span><span class="lnt">188
</span><span class="lnt">189
</span><span class="lnt">190
</span><span class="lnt">191
</span><span class="lnt">192
</span><span class="lnt">193
</span><span class="lnt">194
</span><span class="lnt">195
</span><span class="lnt">196
</span><span class="lnt">197
</span><span class="lnt">198
</span><span class="lnt">199
</span><span class="lnt">200
</span><span class="lnt">201
</span><span class="lnt">202
</span><span class="lnt">203
</span><span class="lnt">204
</span><span class="lnt">205
</span><span class="lnt">206
</span><span class="lnt">207
</span><span class="lnt">208
</span><span class="lnt">209
</span><span class="lnt">210
</span><span class="lnt">211
</span><span class="lnt">212
</span><span class="lnt">213
</span><span class="lnt">214
</span><span class="lnt">215
</span><span class="lnt">216
</span><span class="lnt">217
</span><span class="lnt">218
</span><span class="lnt">219
</span><span class="lnt">220
</span><span class="lnt">221
</span><span class="lnt">222
</span><span class="lnt">223
</span><span class="lnt">224
</span><span class="lnt">225
</span><span class="lnt">226
</span><span class="lnt">227
</span><span class="lnt">228
</span><span class="lnt">229
</span><span class="lnt">230
</span><span class="lnt">231
</span><span class="lnt">232
</span><span class="lnt">233
</span><span class="lnt">234
</span><span class="lnt">235
</span><span class="lnt">236
</span><span class="lnt">237
</span><span class="lnt">238
</span><span class="lnt">239
</span><span class="lnt">240
</span><span class="lnt">241
</span><span class="lnt">242
</span><span class="lnt">243
</span><span class="lnt">244
</span><span class="lnt">245
</span><span class="lnt">246
</span><span class="lnt">247
</span><span class="lnt">248
</span><span class="lnt">249
</span><span class="lnt">250
</span><span class="lnt">251
</span><span class="lnt">252
</span><span class="lnt">253
</span><span class="lnt">254
</span><span class="lnt">255
</span><span class="lnt">256
</span><span class="lnt">257
</span><span class="lnt">258
</span><span class="lnt">259
</span><span class="lnt">260
</span><span class="lnt">261
</span><span class="lnt">262
</span><span class="lnt">263
</span><span class="lnt">264
</span><span class="lnt">265
</span><span class="lnt">266
</span><span class="lnt">267
</span><span class="lnt">268
</span><span class="lnt">269
</span><span class="lnt">270
</span><span class="lnt">271
</span><span class="lnt">272
</span><span class="lnt">273
</span><span class="lnt">274
</span><span class="lnt">275
</span><span class="lnt">276
</span><span class="lnt">277
</span><span class="lnt">278
</span><span class="lnt">279
</span><span class="lnt">280
</span><span class="lnt">281
</span><span class="lnt">282
</span><span class="lnt">283
</span><span class="lnt">284
</span><span class="lnt">285
</span><span class="lnt">286
</span><span class="lnt">287
</span><span class="lnt">288
</span><span class="lnt">289
</span><span class="lnt">290
</span><span class="lnt">291
</span><span class="lnt">292
</span><span class="lnt">293
</span><span class="lnt">294
</span><span class="lnt">295
</span><span class="lnt">296
</span><span class="lnt">297
</span><span class="lnt">298
</span><span class="lnt">299
</span><span class="lnt">300
</span><span class="lnt">301
</span><span class="lnt">302
</span><span class="lnt">303
</span><span class="lnt">304
</span><span class="lnt">305
</span><span class="lnt">306
</span><span class="lnt">307
</span><span class="lnt">308
</span><span class="lnt">309
</span><span class="lnt">310
</span><span class="lnt">311
</span><span class="lnt">312
</span><span class="lnt">313
</span><span class="lnt">314
</span><span class="lnt">315
</span><span class="lnt">316
</span><span class="lnt">317
</span><span class="lnt">318
</span><span class="lnt">319
</span><span class="lnt">320
</span><span class="lnt">321
</span><span class="lnt">322
</span><span class="lnt">323
</span><span class="lnt">324
</span><span class="lnt">325
</span><span class="lnt">326
</span><span class="lnt">327
</span><span class="lnt">328
</span><span class="lnt">329
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">touch</span> <span class="o">/</span><span class="nx">mnt</span><span class="o">/</span><span class="nx">mydisk</span><span class="o">/</span><span class="nx">home</span><span class="o">/</span><span class="nb">sun</span><span class="o">-</span><span class="nx">panel</span><span class="o">/</span><span class="nx">config</span><span class="o">/</span><span class="nx">custom</span><span class="o">/</span><span class="nx">index</span><span class="p">.</span><span class="nx">js</span> <span class="o">&amp;&amp;</span> <span class="nx">cat</span> <span class="o">&gt;</span> <span class="err">/mnt/mydisk/home/sun-panel/config/custom/index.js &lt;&lt;&#39;EOF&#39;</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// =========== Config Start ===========
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">// ------------------------------------
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">// 距离滚动偏移量
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kr">const</span> <span class="nx">scrollOffset</span> <span class="o">=</span> <span class="mi">80</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">// 显示风格( auto:自动(默认) | mobile:左上角显示触发按钮-移动端风格 | sidebar:常态显示侧栏)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kr">const</span> <span class="nx">displayStyle</span> <span class="o">=</span> <span class="s1">&#39;auto&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">// 移动端宽度定义
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kr">const</span> <span class="nx">mobileWidth</span> <span class="o">=</span> <span class="mi">800</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">SunPanelTOCDomIdName</span> <span class="o">=</span> <span class="s1">&#39;sun-panel-toc-dom&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">// 左上角按钮 SVG 图标
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kr">const</span> <span class="nx">svgTocMobileBtn</span> <span class="o">=</span> <span class="s1">&#39;&lt;svg xmlns=&#34;http://www.w3.org/2000/svg&#34;  viewBox=&#34;0 0 24 24&#34;&gt;&lt;path fill=&#34;currentColor&#34; d=&#34;M17.5 4.5c-1.95 0-4.05.4-5.5 1.5c-1.45-1.1-3.55-1.5-5.5-1.5c-1.45 0-2.99.22-4.28.79C1.49 5.62 1 6.33 1 7.14v11.28c0 1.3 1.22 2.26 2.48 1.94c.98-.25 2.02-.36 3.02-.36c1.56 0 3.22.26 4.56.92c.6.3 1.28.3 1.87 0c1.34-.67 3-.92 4.56-.92c1 0 2.04.11 3.02.36c1.26.33 2.48-.63 2.48-1.94V7.14c0-.81-.49-1.52-1.22-1.85c-1.28-.57-2.82-.79-4.27-.79M21 17.23c0 .63-.58 1.09-1.2.98c-.75-.14-1.53-.2-2.3-.2c-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5c.92 0 1.83.09 2.7.28c.46.1.8.51.8.98z&#34;/&gt;&lt;path fill=&#34;currentColor&#34; d=&#34;M13.98 11.01c-.32 0-.61-.2-.71-.52c-.13-.39.09-.82.48-.94c1.54-.5 3.53-.66 5.36-.45c.41.05.71.42.66.83s-.42.71-.83.66c-1.62-.19-3.39-.04-4.73.39c-.08.01-.16.03-.23.03m0 2.66c-.32 0-.61-.2-.71-.52c-.13-.39.09-.82.48-.94c1.53-.5 3.53-.66 5.36-.45c.41.05.71.42.66.83s-.42.71-.83.66c-1.62-.19-3.39-.04-4.73.39a1 1 0 0 1-.23.03m0 2.66c-.32 0-.61-.2-.71-.52c-.13-.39.09-.82.48-.94c1.53-.5 3.53-.66 5.36-.45c.41.05.71.42.66.83s-.42.7-.83.66c-1.62-.19-3.39-.04-4.73.39a1 1 0 0 1-.23.03&#34;/&gt;&lt;/svg&gt;&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">// ------------------------------------
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">// =========== Config End ===========
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">  <span class="c1">// 滚动容器的类名
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kr">const</span> <span class="nx">scrollContainerElementClassName</span> <span class="o">=</span> <span class="s1">&#39;.scroll-container&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">// 一些函数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kr">const</span> <span class="nx">isMobile</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="nx">displayStyle</span> <span class="o">===</span> <span class="s1">&#39;mobile&#39;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">displayStyle</span> <span class="o">===</span> <span class="s1">&#39;pc&#39;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="kc">false</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">width</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">innerWidth</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">width</span> <span class="o">&lt;</span> <span class="nx">mobileWidth</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kd">function</span> <span class="nx">createDom</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 检测是否已经存在TOC DOM，存在则删除
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="nx">element</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">SunPanelTOCDomIdName</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="nx">element</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">element</span><span class="p">.</span><span class="nx">remove</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">})()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">SunPanelTOCDom</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">SunPanelTOCDom</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="nx">SunPanelTOCDomIdName</span>
</span></span><span class="line"><span class="cl">    <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">SunPanelTOCDom</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// ========= Add style start =========
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kr">const</span> <span class="nx">style</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;style&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">SunPanelTOCDomStyleId</span> <span class="o">=</span> <span class="sb">`#</span><span class="si">${</span><span class="nx">SunPanelTOCDomIdName</span><span class="si">}</span><span class="sb">`</span>
</span></span><span class="line"><span class="cl">    <span class="nx">style</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="sb">`
</span></span></span><span class="line"><span class="cl"><span class="sb">    </span><span class="si">${</span><span class="nx">SunPanelTOCDomStyleId</span><span class="si">}</span><span class="sb"> #toc-mobile-btn {
</span></span></span><span class="line"><span class="cl"><span class="sb">        top: 20px !important;
</span></span></span><span class="line"><span class="cl"><span class="sb">        left: 20px !important;
</span></span></span><span class="line"><span class="cl"><span class="sb">        position: fixed;
</span></span></span><span class="line"><span class="cl"><span class="sb">        width: 46px;
</span></span></span><span class="line"><span class="cl"><span class="sb">        height: 46px;
</span></span></span><span class="line"><span class="cl"><span class="sb">        background-color: #2a2a2a6b;
</span></span></span><span class="line"><span class="cl"><span class="sb">        color: white;
</span></span></span><span class="line"><span class="cl"><span class="sb">        border-radius: 0.5rem;
</span></span></span><span class="line"><span class="cl"><span class="sb">        display: flex;
</span></span></span><span class="line"><span class="cl"><span class="sb">        justify-content: center;
</span></span></span><span class="line"><span class="cl"><span class="sb">        align-items: center;
</span></span></span><span class="line"><span class="cl"><span class="sb">        cursor: pointer;
</span></span></span><span class="line"><span class="cl"><span class="sb">    }
</span></span></span><span class="line"><span class="cl"><span class="sb">
</span></span></span><span class="line"><span class="cl"><span class="sb">    </span><span class="si">${</span><span class="nx">SunPanelTOCDomStyleId</span><span class="si">}</span><span class="sb"> .hidden {
</span></span></span><span class="line"><span class="cl"><span class="sb">        display: none !important;
</span></span></span><span class="line"><span class="cl"><span class="sb">    }
</span></span></span><span class="line"><span class="cl"><span class="sb">
</span></span></span><span class="line"><span class="cl"><span class="sb">    </span><span class="si">${</span><span class="nx">SunPanelTOCDomStyleId</span><span class="si">}</span><span class="sb"> #toc-sidebar {
</span></span></span><span class="line"><span class="cl"><span class="sb">        width: 40px;
</span></span></span><span class="line"><span class="cl"><span class="sb">        padding: 10px;
</span></span></span><span class="line"><span class="cl"><span class="sb">        position: fixed;
</span></span></span><span class="line"><span class="cl"><span class="sb">        top: 0;
</span></span></span><span class="line"><span class="cl"><span class="sb">        left: 0;
</span></span></span><span class="line"><span class="cl"><span class="sb">        height: 100%;
</span></span></span><span class="line"><span class="cl"><span class="sb">        overflow: hidden;
</span></span></span><span class="line"><span class="cl"><span class="sb">        display: flex;
</span></span></span><span class="line"><span class="cl"><span class="sb">        flex-direction: column;
</span></span></span><span class="line"><span class="cl"><span class="sb">        justify-content: center;
</span></span></span><span class="line"><span class="cl"><span class="sb">        transition: width 0.3s ease, background-color 0.3s ease;
</span></span></span><span class="line"><span class="cl"><span class="sb">        border-top-right-radius: 20px;
</span></span></span><span class="line"><span class="cl"><span class="sb">        border-bottom-right-radius: 20px;
</span></span></span><span class="line"><span class="cl"><span class="sb">        background-color: none;
</span></span></span><span class="line"><span class="cl"><span class="sb">    }
</span></span></span><span class="line"><span class="cl"><span class="sb">
</span></span></span><span class="line"><span class="cl"><span class="sb">    </span><span class="si">${</span><span class="nx">SunPanelTOCDomStyleId</span><span class="si">}</span><span class="sb"> .toc-mobile-btn-svg-container{
</span></span></span><span class="line"><span class="cl"><span class="sb">      width:21px;
</span></span></span><span class="line"><span class="cl"><span class="sb">      height:21px;
</span></span></span><span class="line"><span class="cl"><span class="sb">    }
</span></span></span><span class="line"><span class="cl"><span class="sb">
</span></span></span><span class="line"><span class="cl"><span class="sb">    </span><span class="si">${</span><span class="nx">SunPanelTOCDomStyleId</span><span class="si">}</span><span class="sb"> .toc-sidebar-expansion {
</span></span></span><span class="line"><span class="cl"><span class="sb">        width: 200px !important;
</span></span></span><span class="line"><span class="cl"><span class="sb">        display: flex;
</span></span></span><span class="line"><span class="cl"><span class="sb">        background-color: rgb(42 42 42 / 90%);
</span></span></span><span class="line"><span class="cl"><span class="sb">        box-shadow: 2px 0 5px rgba(0, 0, 0, 0.2);
</span></span></span><span class="line"><span class="cl"><span class="sb">    }
</span></span></span><span class="line"><span class="cl"><span class="sb">
</span></span></span><span class="line"><span class="cl"><span class="sb">    </span><span class="si">${</span><span class="nx">SunPanelTOCDomStyleId</span><span class="si">}</span><span class="sb"> #toc-sidebar .toc-sidebar-box {
</span></span></span><span class="line"><span class="cl"><span class="sb">        width: 500px;
</span></span></span><span class="line"><span class="cl"><span class="sb">    }
</span></span></span><span class="line"><span class="cl"><span class="sb">
</span></span></span><span class="line"><span class="cl"><span class="sb">    </span><span class="si">${</span><span class="nx">SunPanelTOCDomStyleId</span><span class="si">}</span><span class="sb"> .title-bar-box {
</span></span></span><span class="line"><span class="cl"><span class="sb">        display: flex;
</span></span></span><span class="line"><span class="cl"><span class="sb">        align-items: center;
</span></span></span><span class="line"><span class="cl"><span class="sb">        position: relative;
</span></span></span><span class="line"><span class="cl"><span class="sb">        cursor: pointer;
</span></span></span><span class="line"><span class="cl"><span class="sb">    }
</span></span></span><span class="line"><span class="cl"><span class="sb">
</span></span></span><span class="line"><span class="cl"><span class="sb">    </span><span class="si">${</span><span class="nx">SunPanelTOCDomStyleId</span><span class="si">}</span><span class="sb"> .title-bar-slip {
</span></span></span><span class="line"><span class="cl"><span class="sb">        width: 20px;
</span></span></span><span class="line"><span class="cl"><span class="sb">        height: 6px;
</span></span></span><span class="line"><span class="cl"><span class="sb">        background-color: white;
</span></span></span><span class="line"><span class="cl"><span class="sb">        border-radius: 4px;
</span></span></span><span class="line"><span class="cl"><span class="sb">        margin: 15px 0;
</span></span></span><span class="line"><span class="cl"><span class="sb">        transition: height 0.3s ease, width 0.3s ease;
</span></span></span><span class="line"><span class="cl"><span class="sb">        box-shadow: 2px 0 5px rgba(0, 0, 0, 0.5);
</span></span></span><span class="line"><span class="cl"><span class="sb">    }
</span></span></span><span class="line"><span class="cl"><span class="sb">
</span></span></span><span class="line"><span class="cl"><span class="sb">    </span><span class="si">${</span><span class="nx">SunPanelTOCDomStyleId</span><span class="si">}</span><span class="sb"> .title-bar-title {
</span></span></span><span class="line"><span class="cl"><span class="sb">        opacity: 0;
</span></span></span><span class="line"><span class="cl"><span class="sb">        white-space: nowrap;
</span></span></span><span class="line"><span class="cl"><span class="sb">        transition: opacity 0.3s ease, transform 0.3s ease, margin-left 0.3s ease;
</span></span></span><span class="line"><span class="cl"><span class="sb">        font-size: 14px;
</span></span></span><span class="line"><span class="cl"><span class="sb">        color: white;
</span></span></span><span class="line"><span class="cl"><span class="sb">    }
</span></span></span><span class="line"><span class="cl"><span class="sb">
</span></span></span><span class="line"><span class="cl"><span class="sb">    </span><span class="si">${</span><span class="nx">SunPanelTOCDomStyleId</span><span class="si">}</span><span class="sb"> .toc-sidebar-expansion .title-bar-title {
</span></span></span><span class="line"><span class="cl"><span class="sb">        opacity: 1;
</span></span></span><span class="line"><span class="cl"><span class="sb">        margin-left: 10px;
</span></span></span><span class="line"><span class="cl"><span class="sb">    }
</span></span></span><span class="line"><span class="cl"><span class="sb">
</span></span></span><span class="line"><span class="cl"><span class="sb">    </span><span class="si">${</span><span class="nx">SunPanelTOCDomStyleId</span><span class="si">}</span><span class="sb"> .toc-sidebar-expansion .title-bar-slip {
</span></span></span><span class="line"><span class="cl"><span class="sb">        box-shadow: none;
</span></span></span><span class="line"><span class="cl"><span class="sb">    }
</span></span></span><span class="line"><span class="cl"><span class="sb">
</span></span></span><span class="line"><span class="cl"><span class="sb">    </span><span class="si">${</span><span class="nx">SunPanelTOCDomStyleId</span><span class="si">}</span><span class="sb"> .toc-sidebar-expansion .title-bar-box:hover .title-bar-slip {
</span></span></span><span class="line"><span class="cl"><span class="sb">        width: 40px;
</span></span></span><span class="line"><span class="cl"><span class="sb">    }
</span></span></span><span class="line"><span class="cl"><span class="sb">
</span></span></span><span class="line"><span class="cl"><span class="sb">    </span><span class="si">${</span><span class="nx">SunPanelTOCDomStyleId</span><span class="si">}</span><span class="sb"> .toc-sidebar-expansion .title-bar-box:hover .title-bar-title {
</span></span></span><span class="line"><span class="cl"><span class="sb">        font-size: 20px;
</span></span></span><span class="line"><span class="cl"><span class="sb">    }
</span></span></span><span class="line"><span class="cl"><span class="sb">
</span></span></span><span class="line"><span class="cl"><span class="sb">      `</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 添加样式到文档头部
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">SunPanelTOCDom</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">style</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// ========= Add style end =========
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 添加移动端菜单按钮
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kr">const</span> <span class="nx">tocMobileBtn</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">tocMobileBtn</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="s1">&#39;toc-mobile-btn&#39;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">tocMobileBtn</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;backdrop-blur-[2px]&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">SunPanelTOCDom</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">tocMobileBtn</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">tocMobileBtnSvgcContainer</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">tocMobileBtnSvgcContainer</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">svgTocMobileBtn</span>
</span></span><span class="line"><span class="cl">    <span class="nx">tocMobileBtnSvgcContainer</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;toc-mobile-btn-svg-container&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">tocMobileBtn</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">tocMobileBtnSvgcContainer</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 创建侧边栏容器
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kr">const</span> <span class="nx">sidebar</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">sidebar</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="s1">&#39;toc-sidebar&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">sidebarBox</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">sidebarBox</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="s1">&#39;toc-sidebar-box&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 查询出所有类名包含 item-group-index- 的元素
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kr">const</span> <span class="nx">items</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s1">&#39;[class*=&#34;item-group-index-&#34;]&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 遍历并打印每个元素的完整类名
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">items</span><span class="p">.</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">item</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">item</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">className</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="nx">className</span><span class="p">.</span><span class="nx">startsWith</span><span class="p">(</span><span class="s1">&#39;item-group-index-&#39;</span><span class="p">))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="kr">const</span> <span class="nx">titleBarBox</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">          <span class="nx">titleBarBox</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="s1">&#39;title-bar-box&#39;</span>
</span></span><span class="line"><span class="cl">          <span class="c1">// titleBarBox.href = `#${item.id}`
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="nx">titleBarBox</span><span class="p">.</span><span class="nx">dataset</span><span class="p">.</span><span class="nx">groupClassName</span> <span class="o">=</span> <span class="nx">className</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          <span class="c1">// 目录条
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="kr">const</span> <span class="nx">titleBarSlip</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">          <span class="nx">titleBarSlip</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="s1">&#39;title-bar-slip&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          <span class="c1">// 创建一个链接
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="kr">const</span> <span class="nx">titleBarTitle</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">          <span class="nx">titleBarTitle</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="s1">&#39;title-bar-title&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          <span class="c1">// 获取子元素中 class=&#34;group-title&#34; 的内容
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="kr">const</span> <span class="nx">titleElement</span> <span class="o">=</span> <span class="nx">item</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;.group-title&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">          <span class="kr">const</span> <span class="nx">titleText</span> <span class="o">=</span> <span class="nx">titleElement</span> <span class="o">?</span> <span class="nx">titleElement</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">:</span> <span class="nx">item</span><span class="p">.</span><span class="nx">id</span>
</span></span><span class="line"><span class="cl">          <span class="nx">titleBarTitle</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="nx">titleText</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          <span class="nx">titleBarBox</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">titleBarSlip</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">          <span class="nx">titleBarBox</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">titleBarTitle</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          <span class="nx">sidebarBox</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">titleBarBox</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">sidebar</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">sidebarBox</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 将侧边栏添加到页面中
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">SunPanelTOCDom</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">sidebar</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">function</span> <span class="nx">mobileHideSidebar</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">sidebar</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="s1">&#39;toc-sidebar-expansion&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="nx">sidebar</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;hidden&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">function</span> <span class="nx">hideSidebar</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">sidebar</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="s1">&#39;toc-sidebar-expansion&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">function</span> <span class="nx">showSidebar</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">sidebar</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;toc-sidebar-expansion&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="nx">sidebar</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="s1">&#39;hidden&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// ----------------
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 监听宽度变化开始
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// ----------------
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kd">function</span> <span class="nx">debounce</span><span class="p">(</span><span class="nx">func</span><span class="p">,</span> <span class="nx">wait</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="kd">let</span> <span class="nx">timeout</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="kd">function</span> <span class="p">(...</span><span class="nx">args</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">clearTimeout</span><span class="p">(</span><span class="nx">timeout</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nx">timeout</span> <span class="o">=</span> <span class="nx">setTimeout</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="nx">func</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">args</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span> <span class="nx">wait</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">function</span> <span class="nx">handleResize</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="nx">isMobile</span><span class="p">())</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">tocMobileBtn</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="s1">&#39;hidden&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nx">sidebar</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;hidden&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">tocMobileBtn</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;hidden&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nx">sidebar</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="s1">&#39;hidden&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 使用防抖函数包装你的处理函数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kr">const</span> <span class="nx">debouncedHandleResize</span> <span class="o">=</span> <span class="nx">debounce</span><span class="p">(</span><span class="nx">handleResize</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 添加事件监听器
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;resize&#39;</span><span class="p">,</span> <span class="nx">debouncedHandleResize</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 首次触发
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">handleResize</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// ----------------
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 监听宽度变化结束
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// ----------------
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 监听移动端按钮点击
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">tocMobileBtn</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="nx">sidebar</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="s1">&#39;toc-sidebar-expansion&#39;</span><span class="p">))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// 隐藏
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">mobileHideSidebar</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// 显示
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">showSidebar</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 监听TOC栏失去hover
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">sidebar</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;mouseleave&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="nx">isMobile</span><span class="p">())</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// 隐藏
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">mobileHideSidebar</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">hideSidebar</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 监听TOC栏获得hover
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">sidebar</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;mouseenter&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">showSidebar</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 监听TOC点击事件
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s1">&#39;.title-bar-box&#39;</span><span class="p">).</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">box</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">box</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// 检查触发事件的元素是否有 &#39;data-groupClassName&#39; 属性
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">dataset</span><span class="p">.</span><span class="nx">groupClassName</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// 获取 &#39;data-groupClass&#39; 属性的值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="kr">const</span> <span class="nx">groupClassName</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">dataset</span><span class="p">.</span><span class="nx">groupClassName</span>
</span></span><span class="line"><span class="cl">          <span class="c1">// 使用属性值作为选择器查询对应的元素
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="kr">const</span> <span class="nx">targetElement</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="sb">`.</span><span class="si">${</span><span class="nx">groupClassName</span><span class="si">}</span><span class="sb">`</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">          <span class="k">if</span> <span class="p">(</span><span class="nx">targetElement</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="c1">// 获取目标元素的 &#39;top&#39; 坐标
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="kr">const</span> <span class="nx">targetTop</span> <span class="o">=</span> <span class="nx">targetElement</span><span class="p">.</span><span class="nx">offsetTop</span>
</span></span><span class="line"><span class="cl">            <span class="kr">const</span> <span class="nx">scrollContainerElement</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="nx">scrollContainerElementClassName</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="nx">scrollContainerElement</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">              <span class="nx">scrollContainerElement</span><span class="p">.</span><span class="nx">scrollTo</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">                <span class="nx">top</span><span class="o">:</span> <span class="nx">targetTop</span> <span class="o">-</span> <span class="nx">scrollOffset</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nx">behavior</span><span class="o">:</span> <span class="s1">&#39;smooth&#39;</span><span class="p">,</span> <span class="c1">// 平滑滚动
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>              <span class="p">})</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">// 判断是否已经存在分组，不存在将定时监听
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kr">const</span> <span class="nx">items</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s1">&#39;[class*=&#34;item-group-index-&#34;]&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="nx">items</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">createDom</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">interval</span> <span class="o">=</span> <span class="nx">setInterval</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">items</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s1">&#39;[class*=&#34;item-group-index-&#34;]&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="nx">items</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">createDom</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">      <span class="nx">clearInterval</span><span class="p">(</span><span class="nx">interval</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span> <span class="mi">1000</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">})()</span>
</span></span><span class="line"><span class="cl"><span class="nx">EOF</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2-sun-panel个性化设置--自定义页脚粘贴以下内容"><a href="#2-sun-panel%e4%b8%aa%e6%80%a7%e5%8c%96%e8%ae%be%e7%bd%ae--%e8%87%aa%e5%ae%9a%e4%b9%89%e9%a1%b5%e8%84%9a%e7%b2%98%e8%b4%b4%e4%bb%a5%e4%b8%8b%e5%86%85%e5%ae%b9" class="header-anchor"></a>2 、Sun-Panel个性化设置&ndash;自定义页脚，粘贴以下内容
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="o">&lt;</span><span class="n">script</span> <span class="n">src</span><span class="o">=</span><span class="s">&#34;/custom/index.js&#34;</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="二-页面雪花特效"><a href="#%e4%ba%8c-%e9%a1%b5%e9%9d%a2%e9%9b%aa%e8%8a%b1%e7%89%b9%e6%95%88" class="header-anchor"></a>二 、页面雪花特效
</h2><h3 id="1-创建xuehuajs文件"><a href="#1-%e5%88%9b%e5%bb%baxuehuajs%e6%96%87%e4%bb%b6" class="header-anchor"></a>1 、创建xuehua.js文件
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">touch</span> <span class="o">/</span><span class="nx">mnt</span><span class="o">/</span><span class="nx">mydisk</span><span class="o">/</span><span class="nx">home</span><span class="o">/</span><span class="nb">sun</span><span class="o">-</span><span class="nx">panel</span><span class="o">/</span><span class="nx">config</span><span class="o">/</span><span class="nx">custom</span><span class="o">/</span><span class="nx">xuehua</span><span class="p">.</span><span class="nx">js</span> <span class="o">&amp;&amp;</span> <span class="nx">cat</span> <span class="o">&gt;</span> <span class="err">/mnt/mydisk/home/sun-panel/config/custom/xuehua.js &lt;&lt;&#39;EOF&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">snow</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//  1、定义一片雪花模板
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kd">var</span> <span class="nx">flake</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 定义雪花字符 ❄❉❅❆✻✼❇❈❊✥✺
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">flake</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s1">&#39;❄&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">flake</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span> <span class="o">=</span> <span class="s1">&#39;position:absolute;color:#fff;&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">//获取页面的高度 相当于雪花下落结束时Y轴的位置
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kd">var</span> <span class="nx">documentHieght</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">innerHeight</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//获取页面的宽度，利用这个数来算出，雪花开始时left的值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kd">var</span> <span class="nx">documentWidth</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">innerWidth</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">//定义生成一片雪花的毫秒数，不建议低于100
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kd">var</span> <span class="nx">millisec</span> <span class="o">=</span><span class="mi">200</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//2、设置第一个定时器，周期性定时器，每隔一段时间（millisec）生成一片雪花；
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">setInterval</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="c1">//页面加载之后，定时器就开始工作
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">//随机生成雪花下落 开始 时left的值，相当于开始时X轴的位置
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kd">var</span> <span class="nx">startLeft</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="nx">documentWidth</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">//随机生成雪花下落 结束 时left的值，相当于结束时X轴的位置
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kd">var</span> <span class="nx">endLeft</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="nx">documentWidth</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">//随机生成雪花大小
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kd">var</span> <span class="nx">flakeSize</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">20</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">//随机生成雪花下落持续时间，时间越大下落越慢
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kd">var</span> <span class="nx">durationTime</span> <span class="o">=</span> <span class="mi">6000</span> <span class="o">+</span> <span class="mi">10000</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">//随机生成雪花下落 开始 时的透明度
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kd">var</span> <span class="nx">startOpacity</span> <span class="o">=</span> <span class="mf">0.7</span> <span class="o">+</span> <span class="mf">0.3</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">//随机生成雪花下落 结束 时的透明度
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kd">var</span> <span class="nx">endOpacity</span> <span class="o">=</span> <span class="mf">0.2</span> <span class="o">+</span> <span class="mf">0.2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">//克隆一个雪花模板
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kd">var</span> <span class="nx">cloneFlake</span> <span class="o">=</span> <span class="nx">flake</span><span class="p">.</span><span class="nx">cloneNode</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">//第一次修改样式，定义克隆出来的雪花的样式
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">cloneFlake</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span> <span class="o">+=</span> <span class="sb">`
</span></span></span><span class="line"><span class="cl"><span class="sb">                left: </span><span class="si">${</span><span class="nx">startLeft</span><span class="si">}</span><span class="sb">px;
</span></span></span><span class="line"><span class="cl"><span class="sb">                opacity: </span><span class="si">${</span><span class="nx">startOpacity</span><span class="si">}</span><span class="sb">;
</span></span></span><span class="line"><span class="cl"><span class="sb">                font-size:</span><span class="si">${</span><span class="nx">flakeSize</span><span class="si">}</span><span class="sb">px;
</span></span></span><span class="line"><span class="cl"><span class="sb">                top:-25px;
</span></span></span><span class="line"><span class="cl"><span class="sb">                    transition:</span><span class="si">${</span><span class="nx">durationTime</span><span class="si">}</span><span class="sb">ms;`</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">//拼接到页面中
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">cloneFlake</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">//设置第二个定时器，一次性定时器，
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">//当第一个定时器生成雪花，并在页面上渲染出来后，修改雪花的样式，让雪花动起来；
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//第二次修改样式
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">cloneFlake</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span> <span class="o">+=</span> <span class="sb">`
</span></span></span><span class="line"><span class="cl"><span class="sb">                        left: </span><span class="si">${</span><span class="nx">endLeft</span><span class="si">}</span><span class="sb">px;
</span></span></span><span class="line"><span class="cl"><span class="sb">                        top:</span><span class="si">${</span><span class="nx">documentHieght</span><span class="si">}</span><span class="sb">px;
</span></span></span><span class="line"><span class="cl"><span class="sb">                        opacity:</span><span class="si">${</span><span class="nx">endOpacity</span><span class="si">}</span><span class="sb">;`</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="c1">//4、设置第三个定时器，当雪花落下后，删除雪花。
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">cloneFlake</span><span class="p">.</span><span class="nx">remove</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span> <span class="nx">durationTime</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span> <span class="mi">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">},</span> <span class="nx">millisec</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="nx">snow</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="nx">EOF</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2-sun-panel个性化设置--自定义页脚粘贴以下内容-1"><a href="#2-sun-panel%e4%b8%aa%e6%80%a7%e5%8c%96%e8%ae%be%e7%bd%ae--%e8%87%aa%e5%ae%9a%e4%b9%89%e9%a1%b5%e8%84%9a%e7%b2%98%e8%b4%b4%e4%bb%a5%e4%b8%8b%e5%86%85%e5%ae%b9-1" class="header-anchor"></a>2 、Sun-Panel个性化设置&ndash;自定义页脚，粘贴以下内容
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="o">&lt;</span><span class="n">script</span> <span class="n">src</span><span class="o">=</span><span class="s">&#34;/custom/xuehua.js&#34;</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="三-mp4视频壁纸"><a href="#%e4%b8%89-mp4%e8%a7%86%e9%a2%91%e5%a3%81%e7%ba%b8" class="header-anchor"></a>三 、mp4视频壁纸
</h2><h3 id="1-创建js文件-1"><a href="#1-%e5%88%9b%e5%bb%bajs%e6%96%87%e4%bb%b6-1" class="header-anchor"></a>1 、创建js文件
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">touch</span> <span class="o">/</span><span class="nx">mnt</span><span class="o">/</span><span class="nx">mydisk</span><span class="o">/</span><span class="nx">home</span><span class="o">/</span><span class="nb">sun</span><span class="o">-</span><span class="nx">panel</span><span class="o">/</span><span class="nx">config</span><span class="o">/</span><span class="nx">custom</span><span class="o">/</span><span class="nx">mp4</span><span class="p">.</span><span class="nx">js</span> <span class="o">&amp;&amp;</span> <span class="nx">cat</span> <span class="o">&gt;</span> <span class="err">/mnt/mydisk/home/sun-panel/config/custom/mp4.js &lt;&lt;&#39;EOF&#39;</span>
</span></span><span class="line"><span class="cl"><span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;DOMContentLoaded&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">    <span class="c1">// 用于添加视频背景的函数  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kr">const</span> <span class="nx">addVideoBackground</span> <span class="o">=</span> <span class="p">(</span><span class="nx">wallpaperDiv</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">        <span class="c1">// 创建video元素  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kr">const</span> <span class="nx">video</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;video&#39;</span><span class="p">);</span>  
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">        <span class="c1">// 设置视频属性  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">video</span><span class="p">.</span><span class="nx">autoplay</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span> <span class="c1">// 使用属性而不是setAttribute，因为autoplay是一个布尔属性  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">video</span><span class="p">.</span><span class="nx">loop</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">        <span class="nx">video</span><span class="p">.</span><span class="nx">muted</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">        <span class="nx">video</span><span class="p">.</span><span class="nx">playsInline</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span> <span class="c1">// 注意这里是驼峰式写法，但在HTML中应使用playsinline  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  
</span></span><span class="line"><span class="cl">        <span class="c1">// 应用CSS样式到video元素  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">video</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">position</span> <span class="o">=</span> <span class="s1">&#39;absolute&#39;</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">        <span class="nx">video</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">top</span> <span class="o">=</span> <span class="s1">&#39;0&#39;</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">        <span class="nx">video</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="s1">&#39;0&#39;</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">        <span class="nx">video</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="s1">&#39;100%&#39;</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">        <span class="nx">video</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="s1">&#39;100%&#39;</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">        <span class="nx">video</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">objectFit</span> <span class="o">=</span> <span class="s1">&#39;cover&#39;</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">        <span class="c1">// 定义多个视频源  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kr">const</span> <span class="nx">videoSources</span> <span class="o">=</span> <span class="p">[</span>  
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;/uploads/%E5%8A%A8%E6%80%81%E5%A3%81%E7%BA%B8-01.mp4&#39;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;/uploads/%E5%8A%A8%E6%80%81%E5%A3%81%E7%BA%B8-02.mp4&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;/uploads/%E5%8A%A8%E6%80%81%E5%A3%81%E7%BA%B8-03.mp4&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;/uploads/%E5%8A%A8%E6%80%81%E5%A3%81%E7%BA%B8-04.mp4&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;/uploads/%E5%8A%A8%E6%80%81%E5%A3%81%E7%BA%B8-05.mp4&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// &#39;/uploads/%E5%8A%A8%E6%80%81%E5%A3%81%E7%BA%B8-06.mp4&#39;,
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="c1">// &#39;/uploads/%E5%8A%A8%E6%80%81%E5%A3%81%E7%BA%B8-07.mp4&#39;,
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="c1">// &#39;/uploads/%E5%8A%A8%E6%80%81%E5%A3%81%E7%BA%B8-08.mp4&#39;,
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="c1">// &#39;/uploads/%E5%8A%A8%E6%80%81%E5%A3%81%E7%BA%B8-09.mp4&#39;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="c1">// 在这里可以添加更多的视频源  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">];</span>  
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">        <span class="c1">// 从视频源数组中随机选择一个  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kr">const</span> <span class="nx">randomSource</span> <span class="o">=</span> <span class="nx">videoSources</span><span class="p">[</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="nx">videoSources</span><span class="p">.</span><span class="nx">length</span><span class="p">)];</span>  
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">        <span class="c1">// 创建source元素并设置随机选择的视频源  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kr">const</span> <span class="nx">source</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;source&#39;</span><span class="p">);</span>  
</span></span><span class="line"><span class="cl">        <span class="nx">source</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="nx">randomSource</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">        <span class="nx">source</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="s1">&#39;video/mp4&#39;</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">        <span class="c1">// 将source元素添加到video元素中  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">video</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">source</span><span class="p">);</span>  
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">        <span class="c1">// 监听视频加载元数据事件，尝试播放视频  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">video</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;loadedmetadata&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">            <span class="nx">video</span><span class="p">.</span><span class="nx">play</span><span class="p">().</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">                <span class="c1">// 如果播放失败，可以在这里处理错误，例如显示一个备用图片或消息  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;视频播放失败:&#39;</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>  
</span></span><span class="line"><span class="cl">            <span class="p">});</span>  
</span></span><span class="line"><span class="cl">        <span class="p">});</span>  
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">        <span class="c1">// 将video元素添加到指定的wallpaperDiv中  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">wallpaperDiv</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">video</span><span class="p">);</span>  
</span></span><span class="line"><span class="cl">    <span class="p">};</span>  
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">    <span class="c1">// 使用MutationObserver监视DOM变化  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kr">const</span> <span class="nx">observer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MutationObserver</span><span class="p">((</span><span class="nx">mutationsList</span><span class="p">,</span> <span class="nx">observer</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">        <span class="c1">// 查找匹配的.cover.wallpaper元素  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kr">const</span> <span class="nx">wallpaperDiv</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;.cover.wallpaper&#39;</span><span class="p">);</span>  
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="nx">wallpaperDiv</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">wallpaperDiv</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;video&#39;</span><span class="p">))</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">            <span class="c1">// 添加视频背景  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">addVideoBackground</span><span class="p">(</span><span class="nx">wallpaperDiv</span><span class="p">);</span>  
</span></span><span class="line"><span class="cl">            <span class="c1">// 注意：我们不再断开观察者，以便它能够继续监视未来的变化  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">}</span>  
</span></span><span class="line"><span class="cl">    <span class="p">});</span>  
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">    <span class="c1">// 启动观察者监视document.body的变化  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">observer</span><span class="p">.</span><span class="nx">observe</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">,</span> <span class="p">{</span> <span class="nx">childList</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">subtree</span><span class="o">:</span> <span class="kc">true</span> <span class="p">});</span>  
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">EOF</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2-sun-panel个性化设置--自定义页脚粘贴以下内容-2"><a href="#2-sun-panel%e4%b8%aa%e6%80%a7%e5%8c%96%e8%ae%be%e7%bd%ae--%e8%87%aa%e5%ae%9a%e4%b9%89%e9%a1%b5%e8%84%9a%e7%b2%98%e8%b4%b4%e4%bb%a5%e4%b8%8b%e5%86%85%e5%ae%b9-2" class="header-anchor"></a>2 、Sun-Panel个性化设置&ndash;自定义页脚，粘贴以下内容
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="o">&lt;</span><span class="n">script</span> <span class="n">src</span><span class="o">=</span><span class="s">&#34;/custom/mp4.js&#34;</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="四-点击特效-散开"><a href="#%e5%9b%9b-%e7%82%b9%e5%87%bb%e7%89%b9%e6%95%88-%e6%95%a3%e5%bc%80" class="header-anchor"></a>四 、点击特效-散开
</h2><h3 id="1-创建js文件-2"><a href="#1-%e5%88%9b%e5%bb%bajs%e6%96%87%e4%bb%b6-2" class="header-anchor"></a>1 、创建js文件
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span><span class="lnt">159
</span><span class="lnt">160
</span><span class="lnt">161
</span><span class="lnt">162
</span><span class="lnt">163
</span><span class="lnt">164
</span><span class="lnt">165
</span><span class="lnt">166
</span><span class="lnt">167
</span><span class="lnt">168
</span><span class="lnt">169
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">touch</span> <span class="o">/</span><span class="nx">mnt</span><span class="o">/</span><span class="nx">mydisk</span><span class="o">/</span><span class="nx">home</span><span class="o">/</span><span class="nb">sun</span><span class="o">-</span><span class="nx">panel</span><span class="o">/</span><span class="nx">config</span><span class="o">/</span><span class="nx">custom</span><span class="o">/</span><span class="nx">dianji</span><span class="p">.</span><span class="nx">js</span> <span class="o">&amp;&amp;</span> <span class="nx">cat</span> <span class="o">&gt;</span> <span class="err">/mnt/mydisk/home/sun-panel/config/custom/dianji.js &lt;&lt;&#39;EOF&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">class</span> <span class="nx">Circle</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">constructor</span><span class="p">({</span> <span class="nx">origin</span><span class="p">,</span> <span class="nx">speed</span><span class="p">,</span> <span class="nx">color</span><span class="p">,</span> <span class="nx">angle</span><span class="p">,</span> <span class="nx">context</span> <span class="p">})</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">origin</span> <span class="o">=</span> <span class="nx">origin</span><span class="p">;</span> <span class="c1">// 初始位置
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">this</span><span class="p">.</span><span class="nx">position</span> <span class="o">=</span> <span class="p">{</span> <span class="p">...</span><span class="k">this</span><span class="p">.</span><span class="nx">origin</span> <span class="p">};</span> <span class="c1">// 当前位置
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">this</span><span class="p">.</span><span class="nx">color</span> <span class="o">=</span> <span class="nx">color</span><span class="p">;</span> <span class="c1">// 颜色
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">this</span><span class="p">.</span><span class="nx">speed</span> <span class="o">=</span> <span class="nx">speed</span><span class="p">;</span> <span class="c1">// 速度
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">this</span><span class="p">.</span><span class="nx">angle</span> <span class="o">=</span> <span class="nx">angle</span><span class="p">;</span> <span class="c1">// 角度
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">this</span><span class="p">.</span><span class="nx">context</span> <span class="o">=</span> <span class="nx">context</span><span class="p">;</span> <span class="c1">// 绘制上下文
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">this</span><span class="p">.</span><span class="nx">renderCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// 渲染计数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// 绘制圆形
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">color</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="p">.</span><span class="nx">arc</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">*</span> <span class="mi">2</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="p">.</span><span class="nx">fill</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">move</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// 移动圆形
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">this</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">angle</span><span class="p">)</span> <span class="o">*</span> <span class="k">this</span><span class="p">.</span><span class="nx">speed</span><span class="p">)</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">x</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">angle</span><span class="p">)</span> <span class="o">*</span> <span class="k">this</span><span class="p">.</span><span class="nx">speed</span><span class="p">)</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">y</span> <span class="o">+</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">renderCount</span> <span class="o">*</span> <span class="mf">0.3</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">renderCount</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">class</span> <span class="nx">Boom</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">constructor</span><span class="p">({</span> <span class="nx">origin</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">circleCount</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="nx">area</span> <span class="p">})</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">origin</span> <span class="o">=</span> <span class="nx">origin</span><span class="p">;</span> <span class="c1">// 初始位置
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">this</span><span class="p">.</span><span class="nx">context</span> <span class="o">=</span> <span class="nx">context</span><span class="p">;</span> <span class="c1">// 绘制上下文
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">this</span><span class="p">.</span><span class="nx">circleCount</span> <span class="o">=</span> <span class="nx">circleCount</span><span class="p">;</span> <span class="c1">// 圆形数量
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">this</span><span class="p">.</span><span class="nx">area</span> <span class="o">=</span> <span class="nx">area</span><span class="p">;</span> <span class="c1">// 区域
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">this</span><span class="p">.</span><span class="nx">stop</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span> <span class="c1">// 停止标志
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">this</span><span class="p">.</span><span class="nx">circles</span> <span class="o">=</span> <span class="p">[];</span> <span class="c1">// 圆形数组
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">randomArray</span><span class="p">(</span><span class="nx">range</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// 从数组中随机取值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kr">const</span> <span class="nx">length</span> <span class="o">=</span> <span class="nx">range</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kr">const</span> <span class="nx">randomIndex</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">length</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nx">range</span><span class="p">[</span><span class="nx">randomIndex</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">randomColor</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// 随机生成颜色
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kr">const</span> <span class="nx">range</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;8&#39;</span><span class="p">,</span> <span class="s1">&#39;9&#39;</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="s1">&#39;#&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">randomArray</span><span class="p">(</span><span class="nx">range</span><span class="p">)</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">randomArray</span><span class="p">(</span><span class="nx">range</span><span class="p">)</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">randomArray</span><span class="p">(</span><span class="nx">range</span><span class="p">)</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">randomArray</span><span class="p">(</span><span class="nx">range</span><span class="p">)</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">randomArray</span><span class="p">(</span><span class="nx">range</span><span class="p">)</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">randomArray</span><span class="p">(</span><span class="nx">range</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">randomRange</span><span class="p">(</span><span class="nx">start</span><span class="p">,</span> <span class="nx">end</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// 在范围内生成随机数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">return</span> <span class="p">(</span><span class="nx">end</span> <span class="o">-</span> <span class="nx">start</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">+</span> <span class="nx">start</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">init</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// 初始化Boom对象
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">circleCount</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="kr">const</span> <span class="nx">circle</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Circle</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">                <span class="nx">context</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nx">origin</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">origin</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nx">color</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">randomColor</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">                <span class="nx">angle</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">randomRange</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">                <span class="nx">speed</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">randomRange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">});</span>
</span></span><span class="line"><span class="cl">            <span class="k">this</span><span class="p">.</span><span class="nx">circles</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">circle</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">move</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// 移动所有圆形，并检测是否超出区域
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">this</span><span class="p">.</span><span class="nx">circles</span><span class="p">.</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">circle</span><span class="p">,</span> <span class="nx">index</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="nx">circle</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">x</span> <span class="o">&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">area</span><span class="p">.</span><span class="nx">width</span> <span class="o">||</span> <span class="nx">circle</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">area</span><span class="p">.</span><span class="nx">height</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">circles</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">index</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="nx">circle</span><span class="p">.</span><span class="nx">move</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="p">});</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">circles</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">this</span><span class="p">.</span><span class="nx">stop</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// 绘制所有圆形
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">this</span><span class="p">.</span><span class="nx">circles</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">circle</span> <span class="p">=&gt;</span> <span class="nx">circle</span><span class="p">.</span><span class="nx">draw</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">class</span> <span class="nx">CursorSpecialEffects</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// 鼠标特效主类
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">this</span><span class="p">.</span><span class="nx">computerCanvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;canvas&#39;</span><span class="p">);</span> <span class="c1">// 计算用Canvas
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">this</span><span class="p">.</span><span class="nx">renderCanvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;canvas&#39;</span><span class="p">);</span> <span class="c1">// 渲染用Canvas
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">computerContext</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">computerCanvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s1">&#39;2d&#39;</span><span class="p">);</span> <span class="c1">// 计算用上下文
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">this</span><span class="p">.</span><span class="nx">renderContext</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">renderCanvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s1">&#39;2d&#39;</span><span class="p">);</span> <span class="c1">// 渲染用上下文
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">globalWidth</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">innerWidth</span><span class="p">;</span> <span class="c1">// 全局宽度
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">this</span><span class="p">.</span><span class="nx">globalHeight</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">innerHeight</span><span class="p">;</span> <span class="c1">// 全局高度
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">booms</span> <span class="o">=</span> <span class="p">[];</span> <span class="c1">// Boom对象数组
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">this</span><span class="p">.</span><span class="nx">running</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span> <span class="c1">// 运行标志
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">handleMouseDown</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// 处理鼠标点击事件
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kr">const</span> <span class="nx">boom</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Boom</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">origin</span><span class="o">:</span> <span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="nx">e</span><span class="p">.</span><span class="nx">clientX</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="nx">e</span><span class="p">.</span><span class="nx">clientY</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">context</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">computerContext</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">area</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">width</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">globalWidth</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nx">height</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">globalHeight</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">});</span>
</span></span><span class="line"><span class="cl">        <span class="nx">boom</span><span class="p">.</span><span class="nx">init</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">booms</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">boom</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">running</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">run</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">handlePageHide</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// 处理页面隐藏事件
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">this</span><span class="p">.</span><span class="nx">booms</span> <span class="o">=</span> <span class="p">[];</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">running</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">init</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// 初始化方法
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kr">const</span> <span class="nx">style</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">renderCanvas</span><span class="p">.</span><span class="nx">style</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">style</span><span class="p">.</span><span class="nx">position</span> <span class="o">=</span> <span class="s1">&#39;fixed&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">style</span><span class="p">.</span><span class="nx">top</span> <span class="o">=</span> <span class="nx">style</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">style</span><span class="p">.</span><span class="nx">zIndex</span> <span class="o">=</span> <span class="s1">&#39;999999999999999999999999999999999999999999&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">style</span><span class="p">.</span><span class="nx">pointerEvents</span> <span class="o">=</span> <span class="s1">&#39;none&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nx">style</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">renderCanvas</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">computerCanvas</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">globalWidth</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">style</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">renderCanvas</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">computerCanvas</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">globalHeight</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">renderCanvas</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;mousedown&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">handleMouseDown</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">        <span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;pagehide&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">handlePageHide</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">run</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// 运行方法
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">this</span><span class="p">.</span><span class="nx">running</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">booms</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">running</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nx">requestAnimationFrame</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">run</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">computerContext</span><span class="p">.</span><span class="nx">clearRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">globalWidth</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">globalHeight</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">renderContext</span><span class="p">.</span><span class="nx">clearRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">globalWidth</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">globalHeight</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">booms</span><span class="p">.</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">boom</span><span class="p">,</span> <span class="nx">index</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="nx">boom</span><span class="p">.</span><span class="nx">stop</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">booms</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">index</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="nx">boom</span><span class="p">.</span><span class="nx">move</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">            <span class="nx">boom</span><span class="p">.</span><span class="nx">draw</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="p">});</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">renderContext</span><span class="p">.</span><span class="nx">drawImage</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">computerCanvas</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">globalWidth</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">globalHeight</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">cursorSpecialEffects</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CursorSpecialEffects</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="nx">cursorSpecialEffects</span><span class="p">.</span><span class="nx">init</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="nx">EOF</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2-sun-panel个性化设置--自定义页脚粘贴以下内容-3"><a href="#2-sun-panel%e4%b8%aa%e6%80%a7%e5%8c%96%e8%ae%be%e7%bd%ae--%e8%87%aa%e5%ae%9a%e4%b9%89%e9%a1%b5%e8%84%9a%e7%b2%98%e8%b4%b4%e4%bb%a5%e4%b8%8b%e5%86%85%e5%ae%b9-3" class="header-anchor"></a>2 、Sun-Panel个性化设置&ndash;自定义页脚，粘贴以下内容
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="o">&lt;</span><span class="n">script</span> <span class="n">src</span><span class="o">=</span><span class="s">&#34;/custom/dianji.js&#34;</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="五-点击特效-烟花"><a href="#%e4%ba%94-%e7%82%b9%e5%87%bb%e7%89%b9%e6%95%88-%e7%83%9f%e8%8a%b1" class="header-anchor"></a>五 、点击特效-烟花
</h2><ul>
<li>点击烟花效果js插件地址：https://github.com/hslr-s/sun-panel-js-plugins/tree/master/clickFireworksEffects</li>
</ul>
<h3 id="1-创建yanhuajs文件"><a href="#1-%e5%88%9b%e5%bb%bayanhuajs%e6%96%87%e4%bb%b6" class="header-anchor"></a>1 、创建yanhua.js文件
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">touch</span> <span class="o">/</span><span class="nx">mnt</span><span class="o">/</span><span class="nx">mydisk</span><span class="o">/</span><span class="nx">home</span><span class="o">/</span><span class="nb">sun</span><span class="o">-</span><span class="nx">panel</span><span class="o">/</span><span class="nx">config</span><span class="o">/</span><span class="nx">custom</span><span class="o">/</span><span class="nx">index</span><span class="p">.</span><span class="nx">js</span> <span class="o">&amp;&amp;</span> <span class="nx">cat</span> <span class="o">&gt;</span> <span class="err">/mnt/mydisk/home/sun-panel/config/custom/yanhua.js &lt;&lt;&#39;EOF&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">clickFireworksEffects</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">let</span> <span class="nx">balls</span> <span class="o">=</span> <span class="p">[];</span>
</span></span><span class="line"><span class="cl">    <span class="kd">let</span> <span class="nx">longPressed</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">let</span> <span class="nx">longPress</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">let</span> <span class="nx">multiplier</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">let</span> <span class="nx">width</span><span class="p">,</span> <span class="nx">height</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">let</span> <span class="nx">origin</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">let</span> <span class="nx">normal</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">let</span> <span class="nx">ctx</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">colours</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;#F73859&#34;</span><span class="p">,</span> <span class="s2">&#34;#14FFEC&#34;</span><span class="p">,</span> <span class="s2">&#34;#00E0FF&#34;</span><span class="p">,</span> <span class="s2">&#34;#FF99FE&#34;</span><span class="p">,</span> <span class="s2">&#34;#FAF15D&#34;</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&#34;canvas&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">canvas</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nx">canvas</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">&#34;style&#34;</span><span class="p">,</span> <span class="s2">&#34;width: 100%; height: 100%; top: 0; left: 0; z-index: 99999; position: fixed; pointer-events: none;&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">pointer</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&#34;span&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nx">pointer</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s2">&#34;pointer&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">pointer</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span> <span class="o">&amp;&amp;</span> <span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">ctx</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s2">&#34;2d&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="nx">updateSize</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">      <span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;resize&#39;</span><span class="p">,</span> <span class="nx">updateSize</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="nx">loop</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">      <span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&#34;mousedown&#34;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">pushBalls</span><span class="p">(</span><span class="nx">randBetween</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="nx">e</span><span class="p">.</span><span class="nx">clientX</span><span class="p">,</span> <span class="nx">e</span><span class="p">.</span><span class="nx">clientY</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s2">&#34;is-pressed&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="nx">longPress</span> <span class="o">=</span> <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">          <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s2">&#34;is-longpress&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">          <span class="nx">longPressed</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span> <span class="mi">500</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span> <span class="kc">false</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&#34;mouseup&#34;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">clearInterval</span><span class="p">(</span><span class="nx">longPress</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="nx">longPressed</span> <span class="o">==</span> <span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="s2">&#34;is-longpress&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">          <span class="nx">pushBalls</span><span class="p">(</span><span class="nx">randBetween</span><span class="p">(</span><span class="mi">50</span> <span class="o">+</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">(</span><span class="nx">multiplier</span><span class="p">),</span> <span class="mi">100</span> <span class="o">+</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">(</span><span class="nx">multiplier</span><span class="p">)),</span> <span class="nx">e</span><span class="p">.</span><span class="nx">clientX</span><span class="p">,</span> <span class="nx">e</span><span class="p">.</span><span class="nx">clientY</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">          <span class="nx">longPressed</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="s2">&#34;is-pressed&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span> <span class="kc">false</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&#34;mousemove&#34;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kd">let</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">clientX</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kd">let</span> <span class="nx">y</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">clientY</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">pointer</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">top</span> <span class="o">=</span> <span class="nx">y</span> <span class="o">+</span> <span class="s2">&#34;px&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">pointer</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="nx">x</span> <span class="o">+</span> <span class="s2">&#34;px&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span> <span class="kc">false</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;canvas or addEventListener is unsupported!&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">    <span class="kd">function</span> <span class="nx">updateSize</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">innerWidth</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">innerHeight</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="nx">canvas</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">innerWidth</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="nx">canvas</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">innerHeight</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="nx">ctx</span><span class="p">.</span><span class="nx">scale</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="nx">width</span> <span class="o">=</span> <span class="p">(</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">innerWidth</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="nx">height</span> <span class="o">=</span> <span class="p">(</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">innerHeight</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="nx">origin</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">x</span><span class="o">:</span> <span class="nx">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">y</span><span class="o">:</span> <span class="nx">height</span> <span class="o">/</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl">      <span class="p">};</span>
</span></span><span class="line"><span class="cl">      <span class="nx">normal</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">x</span><span class="o">:</span> <span class="nx">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">y</span><span class="o">:</span> <span class="nx">height</span> <span class="o">/</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl">      <span class="p">};</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kr">class</span> <span class="nx">Ball</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">constructor</span><span class="p">(</span><span class="nx">x</span> <span class="o">=</span> <span class="nx">origin</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span> <span class="o">=</span> <span class="nx">origin</span><span class="p">.</span><span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="nx">x</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">y</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">angle</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="nx">longPressed</span> <span class="o">==</span> <span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="k">this</span><span class="p">.</span><span class="nx">multiplier</span> <span class="o">=</span> <span class="nx">randBetween</span><span class="p">(</span><span class="mi">14</span> <span class="o">+</span> <span class="nx">multiplier</span><span class="p">,</span> <span class="mi">15</span> <span class="o">+</span> <span class="nx">multiplier</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="k">this</span><span class="p">.</span><span class="nx">multiplier</span> <span class="o">=</span> <span class="nx">randBetween</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">12</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">vx</span> <span class="o">=</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">multiplier</span> <span class="o">+</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">angle</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">vy</span> <span class="o">=</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">multiplier</span> <span class="o">+</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">angle</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="nx">randBetween</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span> <span class="o">+</span> <span class="mi">3</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">color</span> <span class="o">=</span> <span class="nx">colours</span><span class="p">[</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="nx">colours</span><span class="p">.</span><span class="nx">length</span><span class="p">)];</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="nx">update</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">x</span> <span class="o">+=</span> <span class="k">this</span><span class="p">.</span><span class="nx">vx</span> <span class="o">-</span> <span class="nx">normal</span><span class="p">.</span><span class="nx">x</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">y</span> <span class="o">+=</span> <span class="k">this</span><span class="p">.</span><span class="nx">vy</span> <span class="o">-</span> <span class="nx">normal</span><span class="p">.</span><span class="nx">y</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">normal</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2</span> <span class="o">/</span> <span class="nb">window</span><span class="p">.</span><span class="nx">innerWidth</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">angle</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="nx">normal</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2</span> <span class="o">/</span> <span class="nb">window</span><span class="p">.</span><span class="nx">innerHeight</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">angle</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">r</span> <span class="o">-=</span> <span class="mf">0.3</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">vx</span> <span class="o">*=</span> <span class="mf">0.9</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">vy</span> <span class="o">*=</span> <span class="mf">0.9</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">    <span class="kd">function</span> <span class="nx">pushBalls</span><span class="p">(</span><span class="nx">count</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">origin</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span> <span class="o">=</span> <span class="nx">origin</span><span class="p">.</span><span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">count</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">balls</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">new</span> <span class="nx">Ball</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">    <span class="kd">function</span> <span class="nx">randBetween</span><span class="p">(</span><span class="nx">min</span><span class="p">,</span> <span class="nx">max</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="nx">max</span><span class="p">)</span> <span class="o">+</span> <span class="nx">min</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">    <span class="kd">function</span> <span class="nx">loop</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="s2">&#34;rgba(255, 255, 255, 0)&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="nx">ctx</span><span class="p">.</span><span class="nx">clearRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">balls</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kd">let</span> <span class="nx">b</span> <span class="o">=</span> <span class="nx">balls</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">r</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="nx">b</span><span class="p">.</span><span class="nx">color</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="nx">ctx</span><span class="p">.</span><span class="nx">arc</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">b</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span> <span class="nx">b</span><span class="p">.</span><span class="nx">r</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="nx">ctx</span><span class="p">.</span><span class="nx">fill</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="nx">b</span><span class="p">.</span><span class="nx">update</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="nx">longPressed</span> <span class="o">==</span> <span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">multiplier</span> <span class="o">+=</span> <span class="mf">0.2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">longPressed</span> <span class="o">&amp;&amp;</span> <span class="nx">multiplier</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">multiplier</span> <span class="o">-=</span> <span class="mf">0.4</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="nx">removeBall</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">      <span class="nx">requestAnimationFrame</span><span class="p">(</span><span class="nx">loop</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">    <span class="kd">function</span> <span class="nx">removeBall</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">balls</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kd">let</span> <span class="nx">b</span> <span class="o">=</span> <span class="nx">balls</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">x</span> <span class="o">+</span> <span class="nx">b</span><span class="p">.</span><span class="nx">r</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">b</span><span class="p">.</span><span class="nx">x</span> <span class="o">-</span> <span class="nx">b</span><span class="p">.</span><span class="nx">r</span> <span class="o">&gt;</span> <span class="nx">width</span> <span class="o">||</span> <span class="nx">b</span><span class="p">.</span><span class="nx">y</span> <span class="o">+</span> <span class="nx">b</span><span class="p">.</span><span class="nx">r</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">b</span><span class="p">.</span><span class="nx">y</span> <span class="o">-</span> <span class="nx">b</span><span class="p">.</span><span class="nx">r</span> <span class="o">&gt;</span> <span class="nx">height</span> <span class="o">||</span> <span class="nx">b</span><span class="p">.</span><span class="nx">r</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="nx">balls</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="nx">clickFireworksEffects</span><span class="p">();</span><span class="c1">//调用特效函数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">EOF</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2-sun-panel个性化设置--自定义页脚粘贴以下内容-4"><a href="#2-sun-panel%e4%b8%aa%e6%80%a7%e5%8c%96%e8%ae%be%e7%bd%ae--%e8%87%aa%e5%ae%9a%e4%b9%89%e9%a1%b5%e8%84%9a%e7%b2%98%e8%b4%b4%e4%bb%a5%e4%b8%8b%e5%86%85%e5%ae%b9-4" class="header-anchor"></a>2 、Sun-Panel个性化设置&ndash;自定义页脚，粘贴以下内容
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">src</span><span class="o">=</span><span class="s2">&#34;/custom/yanhua.js&#34;</span><span class="o">&gt;&lt;</span><span class="err">/script&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>浏览器清空缓存，刷新后见效果</li>
</ul>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/sun-panel/">Sun-Panel</a>
        
    </section>


    <section class="article-lastmod">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



        <span>
            最后更新于 2025-02-15 00:35
        </span>
    </section></footer>


    
        <link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI&#43;WdtXRGWt2kTvGFasHpSy3SV"crossorigin="anonymous"
            ><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"integrity="sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG&#43;vnGctmUb0ZY0l8"crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"integrity="sha384-&#43;VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4&#43;/RRE05"crossorigin="anonymous"
                defer
                >
            </script><script>
    window.addEventListener("DOMContentLoaded", () => {
	const mainArticleElement = document.querySelector(".main-article");
        renderMathInElement(mainArticleElement, {
            delimiters: [
                { left: "$$", right: "$$", display: true },
                { left: "$", right: "$", display: false },
                { left: "\\(", right: "\\)", display: false },
                { left: "\\[", right: "\\]", display: true }
            ],
            ignoredClasses: ["gist"]
        });})
</script>

    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">相关文章</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="has-image">
    <a href="/p/sun-panel-css%E6%BA%90%E7%A0%81/">
        
        
            <div class="article-image">
                
                    <img src="https://cdn.jsdelivr.net/gh/meimolihan/file@v1.0.0/img/sun-panel.jpg" loading="lazy" data-key="Sun Panel Css源码" data-hash="https://cdn.jsdelivr.net/gh/meimolihan/file@v1.0.0/img/sun-panel.jpg"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Sun Panel Css源码</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/git-%E8%A7%A3%E5%86%B3-.gitignore-%E6%96%87%E4%BB%B6%E4%B8%8D%E8%B5%B7%E4%BD%9C%E7%94%A8/">
        
        
            <div class="article-image">
                
                    <img src="https://cdn.jsdelivr.net/gh/meimolihan/file@v1.0.0/img/git-01.jpg" loading="lazy" data-key="Git 解决 .Gitignore 文件不起作用" data-hash="https://cdn.jsdelivr.net/gh/meimolihan/file@v1.0.0/img/git-01.jpg"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Git 解决 .Gitignore 文件不起作用</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/hugo-stack-%E4%B8%BB%E9%A2%98%E7%BE%8E%E5%8C%96/">
        
        
            <div class="article-image">
                
                    <img src="https://cdn.jsdelivr.net/gh/meimolihan/file@v1.0.0/img/hugo-01.jpg" loading="lazy" data-key="Hugo Stack 主题美化" data-hash="https://cdn.jsdelivr.net/gh/meimolihan/file@v1.0.0/img/hugo-01.jpg"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Hugo Stack 主题美化</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/hugo-%E6%96%87%E7%AB%A0%E7%BC%96%E8%BE%91/">
        
        
            <div class="article-image">
                
                    <img src="https://cdn.jsdelivr.net/gh/meimolihan/file@v1.0.0/img/hugo-01.jpg" loading="lazy" data-key="Hugo 文章编辑" data-hash="https://cdn.jsdelivr.net/gh/meimolihan/file@v1.0.0/img/hugo-01.jpg"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Hugo 文章编辑</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/git-%E4%BB%93%E5%BA%93%E5%90%88%E5%B9%B6/">
        
        
            <div class="article-image">
                
                    <img src="https://cdn.jsdelivr.net/gh/meimolihan/file@v1.0.0/img/git-01.jpg" loading="lazy" data-key="Git 仓库合并" data-hash="https://cdn.jsdelivr.net/gh/meimolihan/file@v1.0.0/img/git-01.jpg"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Git 仓库合并</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
        2025 凡凡小站
    </section>
    

</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.99ce1801c4bad426a42fc436add4721e149159dbb598636e9578fd59cf778c83.js" defer></script><script type="text/javascript" src="/ts/custom.f2979a93a325fecf9605263bd141398a311c8e23388ed7dcff74f92f7e632866.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>
<script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script>

<div id="aplayer"></div>

<script>
    
    const home = 'https://cdn.jsdelivr.net/gh/meimolihan/music@v1.0.0/';
    const songs = [
        '跳楼机-en', 
        '一路生花-温奕心', 
        '碎银几两-轩东', 
        '此生无憾-金钰儿', 
        '搀扶-马健涛', 
        '敬往事一杯-侯泽润', 
        '人间一路-青木时光', 
        '别怕我伤心-张信哲', 
        '大东北我的家乡-何玉', 
        '陪我过个冬-燃', 
        '我期待的不是雪-张妙格', 
        '苦命的人-刘阳阳', 
        '爱情恰恰-十二大美女', 
        '不要慌，太阳下山有月光-张含韵', 
        '往事只能回味-周虹', 
        '花妖-刀郎', 
        '一身傲骨不低头-侯泽润', 
        '罗刹海市-刀郎', 
        '怀念战友-刀郎', 
        '西海情歌-刀郎', 
        '我的春风何时来-李贺', 
        '爱我还是他-刘大拿', 
        '爱你十分泪七分-裘海正',
        '大不了-花姐',
        '白鸽乌鸦相爱的戏码-艾辰',
        '爱意藏风里-何雨溪',
        '忠孝东路走九遍-动力火车',
        '这一路风太大-原来是夏夏',
        '天高任鸟飞-侯泽润',
        '月光凉.落满窗-泡芙芙Scarlett',
        '败-侯泽润',
        '一万个理由-郑源', 
        '一亿个伤心-蒙面哥', 
        '一无所有的年纪-侯泽润', 
        '万有引力-汪苏泷', 
        '人间半途-刘阳阳', 
        '人间烟火-程响', 
        '伤心剖半-邓典', 
        '伤心太平洋-任贤齐', 
        '你别慌余生还长-任夏', 
        '假如我不再善良-郑畅业', 
        '冲动的惩罚-刀郎', 
        '凡夫俗子-范茹', 
        '别说我的眼泪你无所谓-东来东往', 
        '可能-程响', 
        '听-张杰', 
        '喀什噶尔胡杨-刀郎', 
        '因为爱所以爱-谢霆锋', 
        '土坡上的狗尾草-卢润泽', 
        '多想做个哑巴-侯泽润', 
        '失恋阵线联盟-草蜢', 
        '妈妈我想回家-曾抖抖', 
        '小模样-张冬玲', 
        '年少的你啊-浩然H.R', 
        '归途的光-诺爷Plus', 
        '心态才是你风水-艺凌', 
        '我也不想活得太累-郑畅业', 
        '我真怕自己哪天倒下-张良', 
        '手心里的温柔-刀郎', 
        '换个方向风景会更好看-杨一琪', 
        '放手也是一种成全-郑畅业', 
        '星星点灯-大波浪', 
        '星河万里-Rom邢锐', 
        '有点甜-汪苏泷.BY2', 
        '望故乡-刘阳阳', 
        '海边探戈-王鹤棣', 
        '火力全开-王力宏', 
        '生活没有说明书-洛什么洛', 
        '破碎的梦-陈柏曦', 
        '秋风经过-任夏', 
        '第51次原谅-刘艺雯', 
        '老人与海-汪苏泷.王心凌', 
        '胡广生-任素汐', 
        '苹果香-狼戈', 
        '西楼儿女-岳云鹏', 
        '谁明浪子心-王杰', 
        '路灯下点烟时没有打火机-王永清', 
        '过了河就拆桥-成学迅', 
        '野狼disco-宝石Gem', 
        '除了生死都是擦伤-侯泽润', 
    ];
    let audios = [];
    
    songs.forEach((item) => {
        const songInfo = item.split('-');
        audios.push({
            name: songInfo[0],
            artist: songInfo[1],
            url: home + item + '/song.mp3',
            cover: home + item + '/cover.jpg',
            lrc: home + item + '/lyric.lrc'
        });
    });

    const ap = new APlayer({
        container: document.getElementById('aplayer'),
        fixed: true,
        lrcType: 3,
        audio: audios
    });

    

    window.onbeforeunload = () => {
        
        const playInfo = {
            index: ap.list.index,
            currentTime: ap.audio.currentTime,
            paused: ap.paused
        };
        localStorage.setItem("playInfo", JSON.stringify(playInfo));
    };

    

    window.onload = () => {
        
        const playInfo = JSON.parse(localStorage.getItem("playInfo"));
        if (!playInfo) {
            return;
        }
        
        ap.list.switch(playInfo.index);
        
        setTimeout(() => {
            
            ap.seek(playInfo.currentTime);
            
            if (!playInfo.paused) {
                ap.play()
            }
        }, 500);
    };
</script>
<script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script>


    
    <script src=https://meimolihan.github.io/js/topbar.min.js></script>


<script>
	var pjax = new Pjax({
	  selectors: [".main-container"]
	})

    pjax._handleResponse = pjax.handleResponse;
    pjax.handleResponse = function(responseText, request, href, options) {
        if (request.responseText.match("<html")) {
            
            let newDom = new DOMParser().parseFromString(responseText, 'text/html');
            
            let bodyClass = newDom.body.className;
            document.body.setAttribute("class", bodyClass)
            
            pjax._handleResponse(responseText, request, href, options);
        } else {
            
        }
    }

    document.addEventListener('pjax:send', () => {
        
        topbar.show();
    })

    document.addEventListener('pjax:complete', () => {
        
        window.Stack.init();
		
        initCodeMoreBox();
		
		topbar.hide();
        initScrollTop();
        
        topbar.hide();
    })
</script>


<div id="particles-js"></div>

<script src=https://meimolihan.github.io/background/particles.min.js></script>
<script>
  particlesJS.load('particles-js', "https://meimolihan.github.io/background/particlesjs-config.json", function() {
    console.log('particles.js loaded - callback');
  });
</script>

<style>
  #particles-js {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    z-index: -1;
  }
</style>

<style>
  #backTopBtn {
      display: none;
      position: fixed;
      bottom: 30px;
      z-index: 99;
      cursor: pointer;
      width: 30px;
      height: 30px;
      background-image: url(/icons/backTop.svg);
  }
</style>

<script>
  

  function initScrollTop() {
      let rightSideBar = document.querySelector(".right-sidebar");
      if (!rightSideBar) {
          return;
      }
      
      let btn = document.createElement("div");
      btn.id = "backTopBtn";
      btn.onclick = backToTop
      rightSideBar.appendChild(btn)
      
      window.onscroll = function() {
          
          if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
              btn.style.display = "block";
          } else {
              btn.style.display = "none";
          }
      };
  }

  

  function backToTop(){
      window.scrollTo({ top: 0, behavior: "smooth" })
  }

  initScrollTop();
</script>


<script>
  const cdnPath = 'https://cdn.jsdelivr.net/gh/letere-gzj/live2d-widget-v3@main';

  
  const cssPath = "https://meimolihan.github.io/waifu/waifu.css"
  const tipsJsonPath = "https://meimolihan.github.io/waifu/waifu-tips.json"

  const config = {
    
    path: {
      modelPath: cdnPath + "/Resources/",
      cssPath: cdnPath + "/waifu.css",
      tipsJsonPath: cdnPath + "/waifu-tips.json",
      tipsJsPath: cdnPath + "/waifu-tips.js",
      live2dCorePath: cdnPath + "/Core/live2dcubismcore.js",
      live2dSdkPath: cdnPath + "/live2d-sdk.js"
    },
    
    tools: ["hitokoto", "asteroids", "express", "switch-model", "switch-texture", "info", "quit"],
    
    drag: {
      enable: true,
      direction: ["x", "y"]
    },
    
    switchType: "order"
  }

  
  if (screen.width >= 768) {
    Promise.all([
      loadExternalResource(cssPath, "css"),
      loadExternalResource(config.path.live2dCorePath, "js"),
      loadExternalResource(config.path.live2dSdkPath, "js"),
      loadExternalResource(config.path.tipsJsPath, "js")
    ]).then(() => {
      initWidget({
        waifuPath: tipsJsonPath,
        cdnPath: config.path.modelPath,
        tools: config.tools,
        dragEnable: config.drag.enable,
        dragDirection: config.drag.direction,
        switchType: config.switchType
      });
    });
  }

  
  function loadExternalResource(url, type) {
    return new Promise((resolve, reject) => {
      let tag;
      if (type === "css") {
        tag = document.createElement("link");
        tag.rel = "stylesheet";
        tag.href = url;
      }
      else if (type === "js") {
        tag = document.createElement("script");
        tag.src = url;
      }
      if (tag) {
        tag.onload = () => resolve(url);
        tag.onerror = () => reject(url);
        document.head.appendChild(tag);
      }
    });
  }
</script>

<style>
    .highlight {
         
        max-height: 400px;
        overflow: hidden;
    }

    .code-show {
        max-height: none !important;
    }

    .code-more-box {
        width: 100%;
        padding-top: 78px;
        background-image: -webkit-gradient(linear, left top, left bottom, from(rgba(255, 255, 255, 0)), to(#fff));
        position: absolute;
        left: 0;
        right: 0;
        bottom: 0;
        z-index: 1;
    }

    .code-more-btn {
        display: block;
        margin: auto;
        width: 44px;
        height: 22px;
        background: #f0f0f5;
        border-top-left-radius: 8px;
        border-top-right-radius: 8px;
        padding-top: 6px;
        cursor: pointer;
    }

    .code-more-img {
        cursor: pointer !important;
        display: block;
        margin: auto;
        width: 22px;
        height: 16px;
    }
</style>

<script>
  function initCodeMoreBox() {
    let codeBlocks = document.querySelectorAll(".highlight");
    if (!codeBlocks) {
      return;
    }
    codeBlocks.forEach(codeBlock => {
      
      if (codeBlock.scrollHeight <= codeBlock.clientHeight) {
        return;
      }
      
      
      let codeMoreBox = document.createElement('div');
      codeMoreBox.classList.add('code-more-box');
      
      let codeMoreBtn = document.createElement('span');
      codeMoreBtn.classList.add('code-more-btn');
      codeMoreBtn.addEventListener('click', () => {
        codeBlock.classList.add('code-show');
        codeMoreBox.style.display = 'none';
      })
      
      let img = document.createElement('img');
      img.classList.add('code-more-img');
      img.src = "https://meimolihan.github.io/icons/codeMore.png"
      
      codeMoreBtn.appendChild(img);
      codeMoreBox.appendChild(codeMoreBtn);
      codeBlock.appendChild(codeMoreBox)
    })
  }
  
  initCodeMoreBox();
</script>



<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>


    </body>
</html>
